<!DOCTYPE html>
<html lang="es">

<head>
            <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">


        <title>Gestión de Usuarios de bases de datos | Javier Pérez Hidalgo</title>

        <!-- Bootstrap Core CSS -->
        <link href="/theme/css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="/theme/css/clean-blog.min.css" rel="stylesheet">

        <!-- Code highlight color scheme -->
            <link href="/theme/css/code_blocks/darkly.css" rel="stylesheet">


        <!-- Custom Fonts -->
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->



        <meta name="description" content="Oracle 1. Realiza un procedimiento llamado MostrarObjetosAccesibles que reciba un nombre de usuario y muestre todos los objetos a los...">

        <meta name="author" content="Javier Pérez Hidalgo">

        <meta name="tags" content="Base de Datos">
        <meta name="tags" content="Oracle">
        <meta name="tags" content="MySQL">
        <meta name="tags" content="MariaDB">
        <meta name="tags" content="PostgreSQL">
        <meta name="tags" content="MongoDB">

	                <meta property="og:locale" content="">
		<meta property="og:site_name" content="Javier Pérez Hidalgo">

	<meta property="og:type" content="article">
            <meta property="article:author" content="/author/javier-perez-hidalgo.html">
	<meta property="og:url" content="/gestion-de-usuarios-de-bases-de-datos.html">
	<meta property="og:title" content="Gestión de Usuarios de bases de datos">
	<meta property="article:published_time" content="2018-01-12 00:00:00+01:00">
            <meta property="og:description" content="Oracle 1. Realiza un procedimiento llamado MostrarObjetosAccesibles que reciba un nombre de usuario y muestre todos los objetos a los...">

            <meta property="og:image" content="theme/images/banner-basededatos.png">
</head>

<body class="article-gestion-de-usuarios-de-bases-de-datos">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
        <!--    <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>-->
                <a class="navbar-brand" href="/">Inicio</a>
                <a class="navbar-brand" href="/categories">Categorías</a>
                <a class="navbar-brand" href="/authors">Sobre mí</a>

            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">

                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
        <header class="intro-header" style="background-image: url('/theme/images/banner-basededatos.png')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Gestión de Usuarios de bases de datos</h1>
                        <span class="meta">Publicado por
                                <a href="/author/javier-perez-hidalgo.html">Javier Pérez Hidalgo</a>
                             el vie 12 enero 2018
                        </span>
                        
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
    <!-- Post Content -->
    <article>
        <h2>Oracle</h2>
<p><strong>1. Realiza un procedimiento llamado <code>MostrarObjetosAccesibles</code> que reciba un nombre de usuario y muestre todos los objetos a los que tiene acceso.</strong></p>
<p><strong>2. Realiza un procedimiento que reciba un nombre de usuario, un privilegio y un objeto y nos muestre el mensaje 'SI, DIRECTO' si el usuario tiene ese privilegio sobre objeto concedido directamente, 'SI, POR ROL' si el usuario lo tiene en alguno de los roles que tiene concedidos y un 'NO' si el usuario no tiene dicho privilegio.</strong></p>
<p><strong>3. Escribe una consulta que obtenga un <em>script</em> para quitar el privilegio de borrar registros en alguna tabla de <em>SCOTT</em> a los usuarios que lo tengan.</strong></p>
<p><strong>4. Crea un <em>tablespace</em> TS2 con tamaño de extensión de 256K. Realiza una consulta que genere un <em>script</em> que asigne ese <em>tablespace</em> como <em>tablespace</em> por defecto a los usuarios que no tienen privilegios para consultar ninguna tabla de <em>SCOTT</em>, excepto a <em>SYSTEM</em>.</strong></p>
<p><strong>5. La vida de un <em>DBA</em> es dura. Tras pedirlo insistentemente, en tu empresa han contratado una persona para ayudarte. Decides que se encargará de las siguientes tareas:</strong></p>
<ul>
<li>
<p><strong>Resetear los archivos de <em>log</em> en caso de necesidad.</strong></p>
</li>
<li>
<p><strong>Crear funciones de complejidad de contraseña y asignárselas a usuarios.</strong></p>
</li>
<li>
<p><strong>Eliminar la información de <em>rollback</em>. (este privilegio podrá pasarlo a quien quiera).</strong></p>
</li>
<li>
<p><strong>Modificar información existente en la tabla dept del usuario scott. (este privilegio podrá pasarlo a quien quiera).</strong></p>
</li>
<li>
<p><strong>Realizar pruebas de todos los procedimientos existentes en la base de datos.</strong></p>
</li>
<li>
<p><strong>Poner un <em>tablespace</em> fuera de línea.</strong></p>
</li>
</ul>
<p><strong>Crea un usuario llamado <code>Ayudante</code> y, sin usar los roles predefinidos de <em>Oracle</em>, dale los privilegios mínimos para que pueda resolver dichas tareas.</strong></p>
<p><strong>Pista: Si no recuerdas el nombre de un privilegio, puedes buscarlo en el diccionario de datos.</strong></p>
<p><strong>6. Muestra el texto de la última sentencia <em>SQL</em> que se ejecuto en el servidor, junto con el número de veces que se ha ejecutado desde que se cargó en el <em>Shared Pool</em> y el tiempo de CPU empleado en su ejecución.</strong></p>
<p><strong>7. Realiza un procedimiento que genere un <em>script</em> que cree un rol conteniendo todos los permisos que tenga el usuario cuyo nombre reciba como parámetro, le hayan sido asignados a aquel directamente o a través de roles. El nuevo rol deberá llamarse <code>BackupPrivsNombreUsuario</code>.</strong></p>
<h2>MySQL</h2>
<p><strong>1. Escribe una consulta que obtenga un <em>script</em> para quitar el privilegio de borrar registros en alguna tabla de <em>SCOTT</em> a los usuarios que lo tengan.</strong></p>
<h2>PostgreSQL</h2>
<p><strong>1. Escribe una consulta que obtenga un <em>script</em> para quitar el privilegio de borrar registros en alguna tabla de <em>SCOTT</em> a los usuarios que lo tengan.</strong></p>
<h2>MongoDB</h2>
<p><strong>1. Averigua si existe la posibilidad en <em>MongoDB</em> de limitar el acceso de un usuario a los datos de una colección determinada.</strong></p>
<p><strong>2. Averigua si en <em>MongoDB</em> existe el concepto de privilegio del sistema y muestra las diferencias más importantes con <em>Oracle</em>.</strong></p>
<p><strong>3. Explica los roles por defecto que incorpora <em>MongoDB</em> y como se asignan a los usuarios.</strong></p>
<p>Primeramente veo conveniente explicar lo que es un <strong>rol</strong>.</p>
<p>Un <em>rol</em> se define como un conjunto de privilegios. Cuando a un usuario se le asigna un rol, los privilegios de ese rol son accesibles por el usuario.</p>
<p>Un privilegio define una acción o acciones que se pueden efectuar sobre un recurso. Los recursos pueden ser de varios tipos:</p>
<ul>
<li>Una base de datos.</li>
<li>Una colección.</li>
<li>Un conjunto de colecciones.</li>
<li>A nivel de <em>cluster</em>: representa operaciones sobre el conjunto de réplicas o el <em>cluster</em> de <em>shards</em>.</li>
</ul>
<p>Un rol puede además heredar privilegios de uno o varios roles.</p>
<p><em>MongoDB</em> dispone de dos tipos de roles:</p>
<ul>
<li>
<p><strong>Roles predefinidos en el sistema:</strong> son los que ya se encuentran creados de manera predeterminada y listos para utilizarse.</p>
</li>
<li>
<p><strong>Roles definidos por el usuario:</strong> son los creados por el administrador del sistema.</p>
</li>
</ul>
<p>En este caso, nos interesan los <strong>roles predefinidos</strong>.</p>
<p>Dentro de éstos, podemos clasificar los distintos roles en varias categorías.</p>
<ul>
<li>
<p>Usuario de base de datos</p>
</li>
<li>
<p>Administración de base de datos</p>
</li>
<li>
<p>Administración de <em>cluster</em></p>
</li>
<li>
<p>Copia de seguridad/restauración</p>
</li>
<li>
<p>Superusuario</p>
</li>
</ul>
<p>Ahora sí, vamos a ver cada uno de los roles que existen en <em>MongoDB</em>.</p>
<h4>Roles de usuarios de bases de datos</h4>
<ul>
<li>
<p><strong>Roles que actúan a nivel de base de datos</strong></p>
<ul>
<li>
<p><code>read</code>:</p>
</li>
<li>
<p><code>readWrite</code>:</p>
</li>
</ul>
</li>
</ul>
<h4>Roles de administradores de bases de datos</h4>
<ul>
<li>
<p><strong>Roles que actúan a nivel de base de datos</strong></p>
<ul>
<li>
<p><code>dbAdmin</code>: permite gestionar datos, pero no puede acceder a información sobre los usuarios</p>
</li>
<li>
<p><code>userAdmin</code>: permite crear usuarios que únicamente tengan permiso para gestionar usuarios pero no puedan acceder a datos</p>
</li>
<li>
<p><code>dbOwner</code>: puede efectuar cualquier operación administrativa en la base de datos. Por lo tanto, junta los privilegios de <code>readWrite</code>, <code>dbAdmin</code> y <code>userAdmin</code>.</p>
</li>
</ul>
</li>
</ul>
<h4>Roles de administradores de <em>cluster</em></h4>
<ul>
<li>
<p><strong>Roles que actúan a nivel de todo el sistema</strong></p>
<ul>
<li>
<p><code>clusterMonitor</code>:</p>
</li>
<li>
<p><code>clusterManager</code>:</p>
</li>
<li>
<p><code>hostManager</code>:</p>
</li>
<li>
<p><code>clusterAdmin</code>:</p>
</li>
</ul>
</li>
</ul>
<h4>Roles de copias de seguridad/restauración</h4>
<ul>
<li>
<p><strong>Roles que actúan a nivel de base de datos</strong></p>
<ul>
<li>
<p><code>backup</code>:</p>
</li>
<li>
<p><code>restore</code>:</p>
</li>
</ul>
</li>
</ul>
<h4>Roles de todas las bases de datos</h4>
<ul>
<li>
<p><strong>Roles que actúan a nivel de todas las bases de datos</strong></p>
<ul>
<li>
<p><code>readAnyDatabase</code>:</p>
</li>
<li>
<p><code>readWriteAnyDatabase</code>:</p>
</li>
<li>
<p><code>userAdminAnyDatabase</code>:</p>
</li>
<li>
<p><code>dbAdminAnyDatabase</code>:</p>
</li>
</ul>
</li>
</ul>
<h4>Roles de superusuarios</h4>
<ul>
<li>
<p><strong>No son roles de superusuario directamente, pero pueden asignar a cualquier usuario cualquier privilegio en cualquier base de datos, también ellos mismos.</strong></p>
<ul>
<li>
<p><code>userAdmin</code>:</p>
</li>
<li>
<p><code>dbOwner</code>:</p>
</li>
<li>
<p><code>userAdminAnyDatabase</code>:</p>
</li>
</ul>
</li>
<li>
<p><strong>Roles que actúan a nivel de todo el sistema</strong></p>
<ul>
<li><code>root</code>:</li>
</ul>
</li>
</ul>
<p><strong>4. Explica como puede consultarse el diccionario de datos de <em>MongoDB</em> para saber que roles han sido concedidos a un usuario y qué privilegios incluyen.</strong></p>
<p>.</p>
    </article>

        <div class="tags">
            <p><strong><a href="/tags">tags:</a></strong> <a href="/tag/base-de-datos.html">Base de Datos</a>, <a href="/tag/oracle.html">Oracle</a>, <a href="/tag/mysql.html">MySQL</a>, <a href="/tag/mariadb.html">MariaDB</a>, <a href="/tag/postgresql.html">PostgreSQL</a>, <a href="/tag/mongodb.html">MongoDB</a></p>
        </div>

    <hr>

            </div>
        </div>
    </div>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                            <li>
                                <a href="https://www.instagram.com/javierpzh/">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://twitter.com/jperezhid_">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/javierpzh">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://www.facebook.com/javier.perezhidalgo.904">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="mailto:javierperezhidalgo01@gmail.com">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-envelope-square fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                    </ul>
<p class="copyright text-muted">
    Blog creado por <a href="http://www.instagram.com/javierpzh/">Javier Pérez Hidalgo</a>,
    con la utilización de <a href="https://blog.getpelican.com/">Pelican</a>. <br />        &copy;  Javier Pérez Hidalgo
</p>                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="/theme/js/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/theme/js/bootstrap.min.js"></script>

        <!-- Custom Theme JavaScript -->
        <script src="/theme/js/clean-blog.min.js"></script>

</body>

</html>