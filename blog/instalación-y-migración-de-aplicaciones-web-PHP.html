<!DOCTYPE html>
<html lang="en" class="h-full"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.3 -->
<title>Instalación Y Migración De Aplicaciones Web Php | javierpzh</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Instalación Y Migración De Aplicaciones Web Php" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Realizar la migración de la aplicación Drupal que tienes instalada en el entorno de desarrollo a nuestro entorno de producción, para ello ten en cuenta lo siguiente:" />
<meta property="og:description" content="Realizar la migración de la aplicación Drupal que tienes instalada en el entorno de desarrollo a nuestro entorno de producción, para ello ten en cuenta lo siguiente:" />
<link rel="canonical" href="https://www.javierpzh.es/blog/instalaci%C3%B3n-y-migraci%C3%B3n-de-aplicaciones-web-PHP" />
<meta property="og:url" content="https://www.javierpzh.es/blog/instalaci%C3%B3n-y-migraci%C3%B3n-de-aplicaciones-web-PHP" />
<meta property="og:site_name" content="javierpzh" />
<meta property="og:image" content="https://soopr.xyz/images/card?url=https://www.javierpzh.es/blog/instalaci%C3%B3n-y-migraci%C3%B3n-de-aplicaciones-web-PHP" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-11-20T00:00:00+01:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="og:image" content="https://soopr.xyz/images/card?url=https://www.javierpzh.es/blog/instalaci%C3%B3n-y-migraci%C3%B3n-de-aplicaciones-web-PHP" />
<meta property="twitter:title" content="Instalación Y Migración De Aplicaciones Web Php" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.javierpzh.es/blog/instalaci%C3%B3n-y-migraci%C3%B3n-de-aplicaciones-web-PHP"},"description":"Realizar la migración de la aplicación Drupal que tienes instalada en el entorno de desarrollo a nuestro entorno de producción, para ello ten en cuenta lo siguiente:","@type":"BlogPosting","headline":"Instalación Y Migración De Aplicaciones Web Php","dateModified":"2020-11-20T00:00:00+01:00","datePublished":"2020-11-20T00:00:00+01:00","url":"https://www.javierpzh.es/blog/instalaci%C3%B3n-y-migraci%C3%B3n-de-aplicaciones-web-PHP","@context":"https://schema.org"}</script>
<script async defer data-soopr-token="" src="https://sdk.soopr.co/soopr.js"  ></script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="https://rsms.me/inter/inter.css">
  <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
  <link rel="stylesheet" href="/assets/css/style.css">
    <link
      rel="stylesheet"
      href="/assets/vendor/@fortawesome/fontawesome-free/css/all.min.css"
    /><link type="application/atom+xml" rel="alternate" href="https://www.javierpzh.es/feed.xml" title="javierpzh" />

<link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="mask-icon" href="/assets/img/favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
</head>
<body class='h-full'><nav class="top-0 absolute z-50 w-full flex flex-wrap items-center justify-between px-2 py-3 navbar-expand-lg bg-gray-800">
  <div class="container px-4 mx-auto flex flex-wrap items-center justify-between">
    <div class="w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start">
      <a
        class="text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-nowrap uppercase text-white"
        href="/">
        javierpzh
      </a>
      <button
        class="cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none"
        type="button"
        onclick="toggleNavbar('example-collapse-navbar')">
        <i class="text-white fas fa-bars"></i>
      </button>
    </div>
    <div
      class="lg:flex flex-grow items-center bg-white lg:bg-transparent lg:shadow-none hidden"
      id="example-collapse-navbar">
      <ul class="flex flex-col lg:flex-row list-none mr-auto">
        <li class="flex items-center">
          <a
            class="lg:text-white lg:hover:text-gray-300 text-gray-800 px-3 py-4 lg:py-2 flex items-center text-xs uppercase font-bold"
            href="/blog">
            <i class="lg:text-gray-300 text-gray-500 far fa-file-alt text-lg leading-lg mr-2"></i>
            Blog
          </a>
          <a
            class="lg:text-white lg:hover:text-gray-300 text-gray-800 px-3 py-4 lg:py-2 flex items-center text-xs uppercase font-bold"
            href="/about">
            <i class="lg:text-gray-300 text-gray-500 fas fa-child text-lg leading-lg mr-2"></i>
            Sobre mí
          </a>
        </li>
      </ul>
      <ul class="flex flex-col lg:flex-row list-none lg:ml-auto">
        <li class="flex items-center">
          <a
            class="lg:text-white lg:hover:text-gray-300 text-gray-800 px-3 py-4 lg:py-2 flex items-center text-xs uppercase font-bold"
            href="https://www.linkedin.com/in/javier-p%C3%A9rez-hidalgo/">
            <i class="lg:text-gray-300 text-gray-500 fab fa-linkedin-in text-lg leading-lg"></i>
            <span class="lg:hidden inline-block ml-2">LinkedIn</span>
          </a>
        </li>
        <li class="flex items-center">
          <a
            class="lg:text-white lg:hover:text-gray-300 text-gray-800 px-3 py-4 lg:py-2 flex items-center text-xs uppercase font-bold"
            href="https://github.com/javierpzh">
            <i class="lg:text-gray-300 text-gray-500 fab fa-github text-lg leading-lg"></i>
            <span class="lg:hidden inline-block ml-2">GitHub</span>
          </a>
        </li>
        <li class="flex items-center">
          <a
            class="lg:text-white lg:hover:text-gray-300 text-gray-800 px-3 py-4 lg:py-2 flex items-center text-xs uppercase font-bold"
            href="mailto:javieperezhidalgo01@gmail.com">
            <i class="lg:text-gray-300 text-gray-500 fas fa-envelope text-lg leading-lg"></i>
            <span class="lg:hidden inline-block ml-2">Correo</span>
            </a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<article class="font-sans relative py-24 md:py-28 bg-white overflow-hidden" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="relative px-4 sm:px-6 lg:px-8">
    <div class="text-lg max-w-prose mx-auto mb-4">
      <h1
        class="mt-2 mb-2 text-3xl text-center-DIS leading-8 font-extrabold tracking-tight-DIS text-gray-800 sm:text-4xl sm:leading-10"
        itemprop="name headline">
        Instalación Y Migración De Aplicaciones Web Php</h1>
    </div>
    <p class="max-w-prose mx-auto mb-2 text-lg uppercase text-gray-500"><span class="font-bold tracking-wide"><time class="dt-published text-xs" datetime="2020-11-20T00:00:00+01:00" itemprop="datePublished">
        Nov 20, 2020
      </time></span></p>
    <!-- 
      Please sign up at https://www.soopr.co to personalize share and reaction buttons
    -->
    <div class="max-w-prose text-lg mx-auto mt-4 mb-8 soopr-btn soopr-btn-def" style="min-height: 36px;"></div>
  </header>

  <div class="prose prose-lg px-4 md:px-0 text-gray-700 mx-auto" itemprop="articleBody">
    <h3 id="realizar-la-migración-de-la-aplicación-drupal-que-tienes-instalada-en-el-entorno-de-desarrollo-a-nuestro-entorno-de-producción-para-ello-ten-en-cuenta-lo-siguiente">Realizar la migración de la aplicación Drupal que tienes instalada en el entorno de desarrollo a nuestro entorno de producción, para ello ten en cuenta lo siguiente:</h3>

<p>Cuando me refiero al entorno de producción, estoy haciendo referencia a un servidor de OVH.</p>

<p>Antes de realizar la migración necesitamos preparar nuestro entorno de producción instalando todos los paquetes necesarios, como pueden ser <code class="language-plaintext highlighter-rouge">php</code>, <code class="language-plaintext highlighter-rouge">mysql</code>, … para poder migrar <em>Drupal</em> de manera correcta. En mi caso tengo listo el entorno de producción, ya que en él llevé a cabo la instalación de un <em>servidor LEMP</em> que es lo que al fin y al cabo vamos a utilizar. Si quieres ver como instalar un <em>servidor LEMP</em> puedes verlo <a href="https://javierpzh.github.io/instalacion-de-un-servidor-lemp.html">aquí</a>.</p>

<p><strong>1. La aplicación se tendrá que migrar a un nuevo virtualhost al que se accederá con el nombre <code class="language-plaintext highlighter-rouge">portal.iesgnXX.es.</code></strong></p>

<p>En nuestro entorno en producción, vamos a crear este nuevo <em>virtualhost</em>. Para ello antes que nada creamos la ruta donde vamos a almacenar esta aplicación, en mi caso dentro de <code class="language-plaintext highlighter-rouge">/srv/www/aplicacionesiesgn/</code>.</p>

<p>Ahora debemos crear el fichero de configuración de <em>Nginx</em> que utilizará esta aplicación. Nos desplazamos a <code class="language-plaintext highlighter-rouge">/etc/nginx/sites-available/</code>, y podemos copiar el fichero por defecto para tener la estructura, en mi caso ya tengo un <em>virtualhost</em> creado y utilizo el fichero de este:</p>

<pre>
root@vpsjavierpzh:/etc/nginx/sites-available# cp aplicacionesiesgn.conf drupal.conf
root@vpsjavierpzh:/etc/nginx/sites-available# nano drupal.conf
</pre>

<p>Edito el fichero de configuración de <em>Drupal</em> y queda de tal manera:</p>

<pre>
server {
        listen 80;
        listen [::]:80;

        root /srv/www/aplicacionesiesgn/drupal;

        index index.php index.html index.htm index.nginx-debian.html;

        server_name portal.iesgn15.es;

        location / {
                         try_files $uri $uri/ /index.php?$args;
                }

        location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/run/php/php7.3-fpm.sock;
        }
}
</pre>

<p>Como podemos apreciar, a esta aplicación se accederá con la URL: <code class="language-plaintext highlighter-rouge">portal.iesgn15.es</code> como nos pide el ejercicio. Ya solo nos quedaría habilitar el servicio de este sitio web mediante la creación de un <strong>enlace simbólico</strong> a la ruta <code class="language-plaintext highlighter-rouge">/etc/nginx/sites-enabled/</code>:</p>

<pre>
root@vpsjavierpzh:/etc/nginx/sites-available# ln -s /etc/nginx/sites-available/drupal.conf /etc/nginx/sites-enabled/

root@vpsjavierpzh:/etc/nginx/sites-available# ls -l /etc/nginx/sites-enabled/
total 0
lrwxrwxrwx 1 root root 49 Nov  9 18:44 aplicacionesiesgn.conf -&gt; /etc/nginx/sites-available/aplicacionesiesgn.conf
lrwxrwxrwx 1 root root 34 Nov  9 12:09 default -&gt; /etc/nginx/sites-available/default
lrwxrwxrwx 1 root root 38 Nov 18 08:06 drupal.conf -&gt; /etc/nginx/sites-available/drupal.conf
</pre>

<p>Como hemos realizado cambios en la configuración de <em>Nginx</em> debemos reiniciar el servicio:</p>

<pre>
systemctl restart nginx.service
</pre>

<p><strong>2. Vamos a nombrar el servicio de base de datos que tenemos en producción. Como es un servicio interno no la vamos a nombrar en la zona DNS, la vamos a nombrar usando resolución estática. El nombre del servicio de base de datos se debe llamar: <code class="language-plaintext highlighter-rouge">bd.iesgnXX.es</code>.</strong></p>

<p>Para nombrar el servicio de la base de datos mediante resolución estática, debemos añadir al fichero <code class="language-plaintext highlighter-rouge">/etc/hosts</code> del servidor de OVH la siguiente línea:</p>

<pre>
127.0.0.1       bd.iesgn15.es
</pre>

<p><strong>3. Por lo tanto los recursos que deberás crear en la base de datos serán (respeta los nombres):</strong></p>

<ul>
  <li><strong>Dirección de la base de datos: <code class="language-plaintext highlighter-rouge">bd.iesgnXX.es</code></strong></li>
  <li><strong>Base de datos: <code class="language-plaintext highlighter-rouge">bd_drupal</code></strong></li>
  <li><strong>Usuario: <code class="language-plaintext highlighter-rouge">user_drupal</code></strong></li>
  <li><strong>Password: <code class="language-plaintext highlighter-rouge">pass_drupal</code></strong></li>
</ul>

<pre>
root@vpsjavierpzh:~# mysql -u root -p
Enter password:
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 65
Server version: 10.3.25-MariaDB-0+deb10u1 Debian 10

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]&gt; SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
+--------------------+
3 rows in set (0.001 sec)

MariaDB [(none)]&gt; CREATE DATABASE bd_drupal;
Query OK, 1 row affected (0.001 sec)

MariaDB [(none)]&gt; CREATE USER 'user_drupal' IDENTIFIED BY 'pass_drupal';
Query OK, 0 rows affected (0.000 sec)

MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON bd_drupal.* TO 'user_drupal';
Query OK, 0 rows affected (0.000 sec)

MariaDB [(none)]&gt; SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| bd_drupal          |
| information_schema |
| mysql              |
| performance_schema |
+--------------------+
4 rows in set (0.001 sec)

MariaDB [(none)]&gt; exit
Bye

root@vpsjavierpzh:~#
</pre>

<p><strong>4. Realiza la migración de la aplicación.</strong></p>

<p>Para realizar la migración, debemos llevarnos todos los archivos de <em>Drupal</em> desde el entorno de desarrollo hasta el entorno de producción. Para ello vamos a copiar los archivos con <code class="language-plaintext highlighter-rouge">scp</code>, pero primero vamos a comprimir todos los datos en un solo archivo:</p>

<pre>
root@buster:/var/www/html# tar -cf ./drupaldat.tar.gz ./drupal/*
</pre>

<p>Lo pasamos al servidor de OVH:</p>

<pre>
root@buster:/var/www/html# scp ./drupaldat.tar.gz debian@vpsjavierpzh.iesgn15.es:/home/debian/
</pre>

<p>Muevo este archivo al directorio donde vamos a almacenar esta aplicación:</p>

<pre>
root@vpsjavierpzh:/home/debian# mv drupaldat.tar.gz /srv/www/aplicacionesiesgn/
</pre>

<p>Y descomprimimos el fichero obteniendo como resultado:</p>

<pre>
root@vpsjavierpzh:/srv/www/aplicacionesiesgn# tar -xvf drupaldat.tar.gz

root@vpsjavierpzh:/srv/www/aplicacionesiesgn# cd drupal/

root@vpsjavierpzh:/srv/www/aplicacionesiesgn/drupal# ls
autoload.php   core		  INSTALL.txt  profiles    sites       vendor
composer.json  example.gitignore  LICENSE.txt  README.txt  themes      web.config
composer.lock  index.php	  modules      robots.txt  update.php
</pre>

<p>Nos faltaría simplemente cambiar el propietario de todos estos nuevos archivos a <code class="language-plaintext highlighter-rouge">www:data</code>, que es el usuario que posee los permisos de lectura y escritura en Nginx.</p>

<pre>
chown -R www-data:www-data /srv/
</pre>

<p>Ya tenemos los datos de <em>Drupal</em> en el entorno de producción por lo tanto nos faltaría restaurar la copia de seguridad en el servidor de OVH. Para ello primero pasamos la copia:</p>

<pre>
root@buster:~# scp backupdrupal.sql debian@vpsjavierpzh.iesgn15.es:/home/debian/
debian@vpsjavierpzh.iesgn15.es's password:
backupdrupal.sql                                                      100% 8165KB  63.9KB/s   02:07

root@buster:~#
</pre>

<p>Y por último restauramos la copia de seguridad en nuestro servidor de base de datos de OVH:</p>

<pre>
mysql -u user_drupal -p bd_drupal &lt; backupdrupal.sql
</pre>

<p>Si entramos y vemos las tablas de esta base de datos:</p>

<pre>
root@vpsjavierpzh:/home/debian/drupal# mysql -u user_drupal -p bd_drupal
Enter password:
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 74
Server version: 10.3.25-MariaDB-0+deb10u1 Debian 10

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [bd_drupal]&gt; show tables;
+----------------------------------+
| Tables_in_bd_drupal              |
+----------------------------------+
| batch                            |
| block_content                    |
| block_content__body              |
| block_content_field_data         |
| block_content_field_revision     |
| block_content_revision           |
| block_content_revision__body     |
| cache_bootstrap                  |
| cache_config                     |
| cache_container                  |
| cache_data                       |
| cache_default                    |
| cache_discovery                  |
| cache_dynamic_page_cache         |
| cache_entity                     |
| cache_menu                       |
| cache_page                       |
| cache_render                     |
| cachetags                        |
| comment                          |
| comment__comment_body            |
| comment_entity_statistics        |
| comment_field_data               |
| config                           |
| file_managed                     |
| file_usage                       |
| history                          |
| key_value                        |
| key_value_expire                 |
| locale_file                      |
| locales_location                 |
| locales_source                   |
| locales_target                   |
| menu_link_content                |
| menu_link_content_data           |
| menu_link_content_field_revision |
| menu_link_content_revision       |
| menu_tree                        |
| node                             |
| node__body                       |
| node__comment                    |
| node__field_image                |
| node__field_tags                 |
| node_access                      |
| node_field_data                  |
| node_field_revision              |
| node_revision                    |
| node_revision__body              |
| node_revision__comment           |
| node_revision__field_image       |
| node_revision__field_tags        |
| path_alias                       |
| path_alias_revision              |
| queue                            |
| router                           |
| search_dataset                   |
| search_index                     |
| search_total                     |
| semaphore                        |
| sequences                        |
| sessions                         |
| shortcut                         |
| shortcut_field_data              |
| shortcut_set_users               |
| taxonomy_index                   |
| taxonomy_term__parent            |
| taxonomy_term_data               |
| taxonomy_term_field_data         |
| taxonomy_term_field_revision     |
| taxonomy_term_revision           |
| taxonomy_term_revision__parent   |
| user__roles                      |
| user__user_picture               |
| users                            |
| users_data                       |
| users_field_data                 |
| watchdog                         |
+----------------------------------+
77 rows in set (0.001 sec)

MariaDB [bd_drupal]&gt;
</pre>

<p>Vemos que hemos restaurado la copia de seguridad correctamente.</p>

<p>Por último nos faltaría crear un registro <strong>CNAME</strong>, para que nos muestre esta paǵina, en nuestra zona DNS del servidor <strong>OVH</strong>. En mi caso, como destino pongo <code class="language-plaintext highlighter-rouge">vpsjavierpzh.iesgn15.es</code> en vez de una dirección IP, ya que tengo creado un registro de tipo <strong>A</strong> que apunta a esta IP.</p>

<p><img src="https://raw.githubusercontent.com/javierpzh/webjavierpzh/master/assets/img/images/iaw_instalacion_migracion_de_aplicaciones_web_PHP/cnamecrear.png" /></p>

<p>Lo creamos:</p>

<p><img src="https://raw.githubusercontent.com/javierpzh/webjavierpzh/master/assets/img/images/iaw_instalacion_migracion_de_aplicaciones_web_PHP/cnamecreado.png" /></p>

<p>Si accedemos a la dirección <code class="language-plaintext highlighter-rouge">portal.iesgn15.es</code>:</p>

<p><img src="https://raw.githubusercontent.com/javierpzh/webjavierpzh/master/assets/img/images/iaw_instalacion_migracion_de_aplicaciones_web_PHP/drupalovh.png" /></p>

<p><strong>5. Asegúrate que las URL limpias de <em>Drupal</em> siguen funcionando en <em>Nginx</em>.</strong></p>

<p>Para que <em>Drupal</em> utilice las URLs limpias debemos añadir este bloque en su fichero de configuración, es decir, en <code class="language-plaintext highlighter-rouge">/etc/nginx/sites-available/drupal.conf</code>:</p>

<pre>
location / {
    try_files $uri /index.php?$query_string;
}
</pre>

<p><strong>6. La aplicación debe estar disponible en la URL: <code class="language-plaintext highlighter-rouge">portal.iesgnXX.es</code> (Sin ningún directorio).</strong></p>

<p>Se puede ver como efectivamente la URL de la aplicación <code class="language-plaintext highlighter-rouge">portal.iesgn15.es</code>.</p>

<p><img src="https://raw.githubusercontent.com/javierpzh/webjavierpzh/master/assets/img/images/iaw_instalacion_migracion_de_aplicaciones_web_PHP/drupalovh.png" /></p>

<h3 id="instalación--migración-de-la-aplicación-nextcloud">Instalación / migración de la aplicación Nextcloud</h3>

<p><strong>1. Instala la aplicación web <em>Nextcloud</em> en tu entorno de desarrollo.</strong></p>

<p>Vamos a instalar la aplicación <strong>Nextcloud</strong> en un servidor web <strong>Apache</strong> de nuestro entorno de desarrollo para posteriormente realizar la migración a un servidor web <strong>Nginx</strong> en nuestro entorno de producción.</p>

<p>Nos descargamos <em>Nextcloud</em> desde su <a href="https://nextcloud.com/install/">página oficial</a> con el siguiente comando:</p>

<pre>
root@buster:/home/vagrant# wget https://download.nextcloud.com/server/releases/nextcloud-20.0.1.zip
--2020-11-18 17:08:17--  https://download.nextcloud.com/server/releases/nextcloud-20.0.1.zip
Resolving download.nextcloud.com (download.nextcloud.com)... 95.217.64.181, 2a01:4f9:2a:3119::181
Connecting to download.nextcloud.com (download.nextcloud.com)|95.217.64.181|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 142691943 (136M) [application/zip]
Saving to: ‘nextcloud-20.0.1.zip’

nextcloud-20.0.1.zip      100%[=====================================&gt;] 136.08M  10.7MB/s    in 16s     

2020-11-18 17:08:34 (8.26 MB/s) - ‘nextcloud-20.0.1.zip’ saved [142691943/142691943]

root@buster:/home/vagrant#
</pre>

<p>Vamos a descomprimir el archivo descargado:</p>

<pre>
root@buster:/home/vagrant# unzip nextcloud-20.0.1.zip
</pre>

<p>La carpeta descomprimida la trasladamos al directorio donde vamos a almacenar nuestra aplicación web, en mi caso es dentro de <code class="language-plaintext highlighter-rouge">/srv/www/</code>, y le vamos a asignar como propietario de los archivos al usuario <code class="language-plaintext highlighter-rouge">www-data</code> que es el adecuado.</p>

<pre>
root@buster:/home/vagrant# mv nextcloud /srv/www/

root@buster:/home/vagrant# ls /srv/www/nextcloud/
3rdparty  config       core	 index.html  occ	   ocs-provider  resources   themes
apps	  console.php  cron.php  index.php   ocm-provider  public.php	 robots.txt  updater
AUTHORS   COPYING      data	 lib	     ocs	   remote.php	 status.php  version.php

root@buster:/home/vagrant# chown -R www-data:www-data /srv/www/
</pre>

<p>Una vez hecho esto, tendríamos que crear un fichero de configuración que nos mostrará la página, para ello creamos uno en <code class="language-plaintext highlighter-rouge">/etc/apache2/sites-available/</code>. En mi caso, copio uno ya existente para tener la plantilla, ustedes podéis utilizar el fichero <code class="language-plaintext highlighter-rouge">000-default.conf</code>.</p>

<pre>
root@buster:/etc/apache2/sites-available# cp anchor.conf nextcloud.conf

root@buster:/etc/apache2/sites-available# nano nextcloud.conf
</pre>

<p>El fichero <code class="language-plaintext highlighter-rouge">/etc/apache2/sites-available/nextcloud.conf</code> quedaría así:</p>

<pre>
&lt;\VirtualHost *:80\&gt;

        ServerName www.jpnextcloud.com
        ServerAdmin webmaster@localhost
        DocumentRoot /srv/www/nextcloud

        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined

&lt;\/VirtualHost\&gt;
</pre>

<p><strong>Atención:</strong> a esta configuración hay que eliminarle los carácteres <code class="language-plaintext highlighter-rouge">\</code>, que he tenido que introducir para escapar los carácteres siguientes, así que en caso de querer copiar la configuración, debemos tener en cuenta esto.</p>

<p>Habilitamos la página:</p>

<pre>
root@buster:/etc/apache2/sites-available# a2ensite nextcloud.conf
Enabling site nextcloud.
To activate the new configuration, you need to run:
  systemctl reload apache2

root@buster:/etc/apache2/sites-available# systemctl reload apache2
</pre>

<p>Por último, nos quedaría crear un usuario y una base de datos, para que <em>Nextcloud</em> guarde sus datos:</p>

<pre>
root@buster:/var/www/html/nextcloud# mysql -u root -p
Enter password:
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 36
Server version: 10.3.25-MariaDB-0+deb10u1 Debian 10

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]&gt; SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| anchor             |
| drupal             |
| information_schema |
| mysql              |
| performance_schema |
+--------------------+
5 rows in set (0.014 sec)

MariaDB [(none)]&gt; CREATE DATABASE bd_nextcloud;
Query OK, 1 row affected (0.001 sec)

MariaDB [(none)]&gt; CREATE USER 'user_nextcloud' IDENTIFIED BY 'pass_nextcloud';
Query OK, 0 rows affected (0.005 sec)

MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON bd_nextcloud.* TO 'user_nextcloud';
Query OK, 0 rows affected (0.002 sec)

MariaDB [(none)]&gt; SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| anchor             |
| bd_nextcloud       |
| drupal             |
| information_schema |
| mysql              |
| performance_schema |
+--------------------+
6 rows in set (0.001 sec)

MariaDB [(none)]&gt; exit
Bye
</pre>

<p>Vemos que hemos creado un nuevo usuario con privilegios de la nueva base de datos.</p>

<p>Mi entorno de desarrollo se trata de una máquina virtual <em>Vagrant</em>, por tanto para visualizar este sitio web, necesito añadir en el fichero <code class="language-plaintext highlighter-rouge">/etc/hosts</code> de mi máquina la línea que corresponda.</p>

<p>Si nos dirigimos al navegador a la dirección <code class="language-plaintext highlighter-rouge">www.jpnextcloud.com</code> nos muestra:</p>

<p><img src="https://raw.githubusercontent.com/javierpzh/webjavierpzh/master/assets/img/images/iaw_instalacion_migracion_de_aplicaciones_web_PHP/nextcloudmvfaltan.png" /></p>

<p>Vemos que <em>Nextcloud</em> necesita una serie de extensiones <em>PHP</em>. Para instalar todas las extensiones necesarias:</p>

<pre>
apt install php-{mysql,zip,curl,mbstring,xml,gd} -y
</pre>

<p>Si probamos a entrar ahora a la dirección <code class="language-plaintext highlighter-rouge">www.jpnextcloud.com</code> nos muestra:</p>

<p><img src="https://raw.githubusercontent.com/javierpzh/webjavierpzh/master/assets/img/images/iaw_instalacion_migracion_de_aplicaciones_web_PHP/nextcloudmvinstalador.png" /></p>

<p>Introducimos los datos del administrador y de nuestra base de datos en el instalador y comenzará la instalación de <em>Nextcloud</em>.</p>

<p><img src="https://raw.githubusercontent.com/javierpzh/webjavierpzh/master/assets/img/images/iaw_instalacion_migracion_de_aplicaciones_web_PHP/nextcloudmvinstalando.png" /></p>

<p>Una vez finalizado el proceso podemos ver como ya hemos instalado esta aplicación web con <em>Apache</em>.</p>

<p><img src="https://raw.githubusercontent.com/javierpzh/webjavierpzh/master/assets/img/images/iaw_instalacion_migracion_de_aplicaciones_web_PHP/nextcloudmvinstalado.png" /></p>

<p><strong>2. Realiza la migración al servidor en producción, para que la aplicación sea accesible en la URL: <code class="language-plaintext highlighter-rouge">www.iesgnXX.es/cloud</code></strong></p>

<p>Vamos a realizar la migración de esta aplicación instalada previamente a nuestro entorno de desarrollo, pero ahora en vez de trabajar con <em>Apache</em> haremos que trabaje con <em>Nginx</em>.</p>

<p>Lo primero que haremos será realizar una copia de seguridad de la base de datos que tenemos en el servidor de desarrollo, para restaurarla en el servidor de OVH. Para ello:</p>

<pre>
root@buster:~# mysqldump -u user_nextcloud -p bd_nextcloud &gt; backupnextcloud.sql
Enter password:

root@buster:~# ls
backupdrupal.sql  backupnextcloud.sql

root@buster:~#
</pre>

<p>Vamos a comprimir todos los archivos del directorio <code class="language-plaintext highlighter-rouge">/srv/www/nextcloud</code>, ya que en él se encuentran todos los datos de la aplicación web:</p>

<pre>
root@buster:/srv/www# tar -cf ./nextclouddat.tar.gz ./nextcloud/*
tar: Removing leading `/' from member names
tar: Removing leading `/' from hard link targets

root@buster:/srv/www# mv nextclouddat.tar.gz /root/

root@buster:~# ls
backupdrupal.sql  backupnextcloud.sql  nextclouddat.tar.gz
</pre>

<p>Pasamos la copia de seguridad y los datos comprimidos al servidor de OVH:</p>

<pre>
root@buster:~# scp ./backupnextcloud.sql debian@vpsjavierpzh.iesgn15.es:/home/debian/
debian@vpsjavierpzh.iesgn15.es's password:
backupnextcloud.sql                                                   100%  137KB 776.4KB/s   00:00    

root@buster:~# scp ./nextclouddat.tar.gz debian@vpsjavierpzh.iesgn15.es:/home/debian/
debian@vpsjavierpzh.iesgn15.es's password:
nextclouddat.tar.gz                                                   100%  528MB   8.4MB/s   01:02    

root@buster:~#
</pre>

<p>Una vez en el entorno de producción, vamos a instalar las extensiones de <em>PHP</em> que requiere <em>Nextcloud</em>:</p>

<pre>
apt install php-{mysql,zip,curl,mbstring,xml,gd} -y
</pre>

<p>Ahora vamos a descomprimir los archivos de <em>Nextcloud</em> en el directorio <code class="language-plaintext highlighter-rouge">/srv/www/aplicacionesiesgn/</code>:</p>

<pre>
root@vpsjavierpzh:/home/debian# mv nextclouddat.tar.gz /srv/www/aplicacionesiesgn/

root@vpsjavierpzh:/home/debian# cd /srv/www/aplicacionesiesgn/

root@vpsjavierpzh:/srv/www/aplicacionesiesgn# tar -xvf nextclouddat.tar.gz

root@vpsjavierpzh:/srv/www/aplicacionesiesgn# ls
drupal	nextcloud  nextclouddat.tar.gz	principal

root@vpsjavierpzh:/srv/www/aplicacionesiesgn# ls nextcloud/
3rdparty  config       core	 index.html  occ	   ocs-provider  resources   themes
apps	  console.php  cron.php  index.php   ocm-provider  public.php	 robots.txt  updater
AUTHORS   COPYING      data	 lib	     ocs	   remote.php	 status.php  version.php
</pre>

<p>Debemos cambiar el propietario a <code class="language-plaintext highlighter-rouge">www-data</code>:</p>

<pre>
chown -R www-data:www-data /srv/
</pre>

<p>Es el momento de crear la base de datos y el correspondiente usuario que utilizará <em>Nextcloud</em>:</p>

<pre>
root@vpsjavierpzh:/srv/www/aplicacionesiesgn# mysql -u root -p
Enter password:
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 324
Server version: 10.3.25-MariaDB-0+deb10u1 Debian 10

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]&gt; SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| bd_drupal          |
| information_schema |
| mysql              |
| performance_schema |
+--------------------+
4 rows in set (0.001 sec)

MariaDB [(none)]&gt; CREATE DATABASE bd_nextcloud;
Query OK, 1 row affected (0.001 sec)

MariaDB [(none)]&gt; CREATE USER 'user_nextcloud' IDENTIFIED BY 'pass_nextcloud';
Query OK, 0 rows affected (0.001 sec)

MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON bd_nextcloud.* TO 'user_nextcloud';
Query OK, 0 rows affected (0.002 sec)

MariaDB [(none)]&gt; SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| bd_drupal          |
| bd_nextcloud       |
| information_schema |
| mysql              |
| performance_schema |
+--------------------+
5 rows in set (0.001 sec)

MariaDB [(none)]&gt; exit
Bye
</pre>

<p>Vemos que hemos creado correctamente el usuario y la base de datos y ahora ya podemos restaurar la copia de seguridad:</p>

<pre>
root@vpsjavierpzh:/home/debian# mysql -u user_nextcloud -p bd_nextcloud &lt; backupnextcloud.sql
Enter password:

root@vpsjavierpzh:/home/debian# mysql -u user_nextcloud -p bd_nextcloud
Enter password:
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 326
Server version: 10.3.25-MariaDB-0+deb10u1 Debian 10

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [bd_nextcloud]&gt; show tables;
+-----------------------------+
| Tables_in_bd_nextcloud      |
+-----------------------------+
| oc_accounts                 |
| oc_activity                 |
| oc_activity_mq              |
| oc_addressbookchanges       |
| oc_addressbooks             |
| oc_appconfig                |
| oc_authtoken                |
| oc_bruteforce_attempts      |
| oc_calendar_invitations     |
| oc_calendar_reminders       |
| oc_calendar_resources       |
| oc_calendar_resources_md    |
| oc_calendar_rooms           |
| oc_calendar_rooms_md        |
| oc_calendarchanges          |
| oc_calendarobjects          |
| oc_calendarobjects_props    |
| oc_calendars                |
| oc_calendarsubscriptions    |
| oc_cards                    |
| oc_cards_properties         |
| oc_collres_accesscache      |
| oc_collres_collections      |
| oc_collres_resources        |
| oc_comments                 |
| oc_comments_read_markers    |
| oc_credentials              |
| oc_dav_cal_proxy            |
| oc_dav_shares               |
| oc_direct_edit              |
| oc_directlink               |
| oc_federated_reshares       |
| oc_file_locks               |
| oc_filecache                |
| oc_filecache_extended       |
| oc_files_trash              |
| oc_flow_checks              |
| oc_flow_operations          |
| oc_flow_operations_scope    |
| oc_group_admin              |
| oc_group_user               |
| oc_groups                   |
| oc_jobs                     |
| oc_login_flow_v2            |
| oc_mail_accounts            |
| oc_mail_aliases             |
| oc_mail_attachments         |
| oc_mail_classifiers         |
| oc_mail_coll_addresses      |
| oc_mail_mailboxes           |
| oc_mail_messages            |
| oc_mail_recipients          |
| oc_migrations               |
| oc_mimetypes                |
| oc_mounts                   |
| oc_notifications            |
| oc_notifications_pushtokens |
| oc_oauth2_access_tokens     |
| oc_oauth2_clients           |
| oc_preferences              |
| oc_privacy_admins           |
| oc_properties               |
| oc_recent_contact           |
| oc_richdocuments_assets     |
| oc_richdocuments_direct     |
| oc_richdocuments_wopi       |
| oc_schedulingobjects        |
| oc_share                    |
| oc_share_external           |
| oc_storages                 |
| oc_systemtag                |
| oc_systemtag_group          |
| oc_systemtag_object_mapping |
| oc_talk_bridges             |
| oc_talk_commands            |
| oc_talk_guests              |
| oc_talk_participants        |
| oc_talk_rooms               |
| oc_talk_signaling           |
| oc_text_documents           |
| oc_text_sessions            |
| oc_text_steps               |
| oc_trusted_servers          |
| oc_twofactor_backupcodes    |
| oc_twofactor_providers      |
| oc_user_status              |
| oc_user_transfer_owner      |
| oc_users                    |
| oc_vcategory                |
| oc_vcategory_to_object      |
| oc_webauthn                 |
| oc_whats_new                |
+-----------------------------+
92 rows in set (0.001 sec)

MariaDB [bd_nextcloud]&gt; exit
Bye
</pre>

<p>Vemos que la hemos restaurado satisfactoriamente, por tanto, ya tendríamos todos los datos disponibles en el entorno de producción, por lo que nos faltaría crear el sitio web.</p>

<p>Para crear el sitio web, creamos su fichero de configuración y lo enlazamos simbólicamente a la ruta <code class="language-plaintext highlighter-rouge">/etc/nginx/sites-enabled/</code> para que esté disponible para <em>Nginx</em>:</p>

<pre>
root@vpsjavierpzh:/etc/nginx/sites-available# cp drupal.conf nextcloud.conf

root@vpsjavierpzh:/etc/nginx/sites-available# nano nextcloud.conf

root@vpsjavierpzh:/etc/nginx/sites-available# ln -s /etc/nginx/sites-available/nextcloud.conf /etc/nginx/sites-enabled/

root@vpsjavierpzh:/etc/nginx/sites-available# ls -l /etc/nginx/sites-enabled/
total 0
lrwxrwxrwx 1 root root 49 Nov  9 18:44 aplicacionesiesgn.conf -&gt; /etc/nginx/sites-available/aplicacionesiesgn.conf
lrwxrwxrwx 1 root root 34 Nov 18 16:31 default -&gt; /etc/nginx/sites-available/default
lrwxrwxrwx 1 root root 38 Nov 18 08:06 drupal.conf -&gt; /etc/nginx/sites-available/drupal.conf
lrwxrwxrwx 1 root root 41 Nov 18 19:13 nextcloud.conf -&gt; /etc/nginx/sites-available/nextcloud.conf
</pre>

<p>Reiniciamos el servicio:</p>

<pre>
systemctl restart nginx
</pre>

<p>Accedemos a la dirección <code class="language-plaintext highlighter-rouge">http://www.iesgn15.es/cloud/</code> y obtenemos este resultado:</p>

<p><img src="https://raw.githubusercontent.com/javierpzh/webjavierpzh/master/assets/img/images/iaw_instalacion_migracion_de_aplicaciones_web_PHP/nextcloudovhmal.png" /></p>

<p>Esto es porque tanto el fichero de configuración del virtualhost <em>Nextcloud</em>, como el fichero <code class="language-plaintext highlighter-rouge">.../(nextcloud)/config/config.php</code> no están bien configurados:</p>

<p>El fichero <code class="language-plaintext highlighter-rouge">/etc/nginx/sites-available/nextcloud.conf</code>, en mi caso, el fichero <code class="language-plaintext highlighter-rouge">/etc/nginx/sites-available/aplicacionesiesgn.conf</code>, ya que quiero que se acceda mediante la dirección <code class="language-plaintext highlighter-rouge">www.iesgn15.es/cloud</code>, debe quedar así:</p>

<pre>
upstream php-handler {
	server unix:/run/php/php7.3-fpm.sock;
}

server {
        listen 80;
        listen [::]:80;

        root /srv/www/aplicacionesiesgn;

        index index.php index.html index.htm index.nginx-debian.html;

        server_name www.iesgn15.es;

        rewrite ^/$ /principal permanent;

        location / {
                 try_files $uri $uri/ =404;
        }

        location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/run/php/php7.3-fpm.sock;
        }


add_header X-Content-Type-Options nosniff;
add_header X-XSS-Protection "1; mode=block";
add_header X-Robots-Tag none;
add_header X-Download-Options noopen;
add_header X-Permitted-Cross-Domain-Policies none;
add_header Referrer-Policy no-referrer;

fastcgi_hide_header X-Powered-By;


      location = /robots.txt {
    		allow all;
    		log_not_found off;
    		access_log off;
    	}

        location = /.well-known/carddav {
    		return 301 $scheme://$host:$server_port/nextcloud/remote.php/dav;
    	}

    	location = /.well-known/caldav {
    		return 301 $scheme://$host:$server_port/nextcloud/remote.php/dav;
    	}

        location /.well-known/acme-challenge { }

    	location ^~ /cloud {
            client_max_body_size 512M;
    		fastcgi_buffers 64 4K;
    		gzip on;
    		gzip_vary on;
    		gzip_comp_level 4;
    		gzip_min_length 256;
    		gzip_proxied expired no-cache no-store private no_last_modified no_etag auth;
            gzip_types application/atom+xml application/javascript application/json application/ld+json application/manifest+json application/rss+xml application/vnd.geo+json application/vnd.ms-fontobject application/x-font-ttf application/x-web-app-manifest+json application/xhtml+xml application/xml font/opentype image/bmp image/svg+xml image/x-icon text/cache-manifest text/css text/plain text/vcard text/vnd.rim.location.xloc text/vtt text/x-component text/x-cross-domain-policy;

            location /cloud {
    			rewrite ^ /cloud/index.php;
    		}

    		location ~ ^\/cloud\/(?:build|tests|config|lib|3rdparty|templates|data)\/ {
    			deny all;
    		}

    		location ~ ^\/cloud\/(?:\.|autotest|occ|issue|indie|db_|console) {
    			deny all;
    		}

            location ~ ^\/cloud\/(?:index|remote|public|cron|core\/ajax\/update|status|ocs\/v[12]|updater\/.+|oc[ms]-provider\/.+)\.php(?:$|\/) {
    			fastcgi_split_path_info ^(.+?\.php)(\/.*|)$;
    			set $path_info $fastcgi_path_info;
    			try_files $fastcgi_script_name =404;
    			include fastcgi_params;
    			fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
    			fastcgi_param PATH_INFO $path_info;
    			fastcgi_param modHeadersAvailable true;
    			fastcgi_param front_controller_active true;
    			fastcgi_pass php-handler;
    			fastcgi_intercept_errors on;
    			fastcgi_request_buffering off;
    		}

            location ~ ^\/cloud\/(?:updater|oc[ms]-provider)(?:$|\/) {
    			try_files $uri/ =404;
    			index index.php;
    		}

            location ~ ^\/cloud\/.+[^\/]\.(?:css|js|woff2?|svg|gif|map)$ {
    			try_files $uri /cloud/index.php$request_uri;
    			add_header Cache-Control "public, max-age=15778463";
    			add_header X-Content-Type-Options nosniff;
    			add_header X-XSS-Protection "1; mode=block";
    			add_header X-Robots-Tag none;
    			add_header X-Download-Options noopen;
    			add_header X-Permitted-Cross-Domain-Policies none;
    			add_header Referrer-Policy no-referrer;
    			access_log off;
    		}

            location ~ ^\/cloud\/.+[^\/]\.(?:png|html|ttf|ico|jpg|jpeg|bcmap)$ {
    			try_files $uri /cloud/index.php$request_uri;
    			# Optional: Don't log access to other asse
    			access_log off;
    		}
    }
}
</pre>

<p><strong>Atención:</strong> a esta configuración hay que sustituirle en las rutas, la palabra <code class="language-plaintext highlighter-rouge">cloud</code>, por el nombre que tenga vuestro directorio de <em>Nextcloud</em>, que suele ser <code class="language-plaintext highlighter-rouge">nextcloud</code>, pero yo lo he modificado.</p>

<p>Y el fichero <code class="language-plaintext highlighter-rouge">.../(nextcloud)/config/config.php</code> debe quedar así:</p>

<pre>
&lt;?php
$CONFIG = array (
  'instanceid' =&gt; 'occb96siynsl',
  'passwordsalt' =&gt; '5A/7E474U9dFg2k16Pvdy9hZRdo/J8',
  'secret' =&gt; 'oVy6H5qJtp6WJ37nVspZF06HuiwhyhMqd5WhAnxEW4AhK5/h',
  'trusted_domains' =&gt;
  array (
    0 =&gt; 'www.iesgn15.es',
  ),
  'datadirectory' =&gt; '/srv/www/aplicacionesiesgn/cloud/data',
  'dbtype' =&gt; 'mysql',
  'version' =&gt; '20.0.1.1',
  'overwrite.cli.url' =&gt; 'http://www.iesgn15.es/cloud',
  'dbname' =&gt; 'bd_nextcloud',
  'dbhost' =&gt; 'bd.iesgn15.es:3306',
  'dbport' =&gt; '',
  'dbtableprefix' =&gt; 'oc_',
  'mysql.utf8mb4' =&gt; true,
  'dbuser' =&gt; 'user_nextcloud',
  'dbpassword' =&gt; 'pass_nextcloud',
  'installed' =&gt; true,
);
</pre>

<p>Si probamos de nuevo a acceder a <code class="language-plaintext highlighter-rouge">http://www.iesgn15.es/cloud/</code>:</p>

<p><img src="https://raw.githubusercontent.com/javierpzh/webjavierpzh/master/assets/img/images/iaw_instalacion_migracion_de_aplicaciones_web_PHP/nextcloudovh.png" /></p>

<p>Vemos que ya podemos <em>loguearnos</em> correctamente. Si accedemos con nuestro usuario:</p>

<p><img src="https://raw.githubusercontent.com/javierpzh/webjavierpzh/master/assets/img/images/iaw_instalacion_migracion_de_aplicaciones_web_PHP/nextcloudovhdentro.png" /></p>

<p><strong>3. Instala en un ordenador el cliente de <em>Nextcloud</em> y realiza la configuración adecuada para acceder a “tu nube”.</strong></p>

<p>Para instalar el cliente de <em>Nextcloud</em>:</p>

<pre>
apt install nextcloud-desktop -y
</pre>

<p>Si abrimos la aplicación de escritorio y seguimos estos pasos:</p>

<ul>
  <li>
    <p>Pulsamos el botón <strong>Entrar</strong>.</p>
  </li>
  <li>
    <p>Introducimos la dirección del servidor: <strong>http://www.iesgn15.es/cloud</strong>.</p>
  </li>
  <li>
    <p>Iniciamos sesión con nuestra cuenta.</p>
  </li>
  <li>
    <p>Elegimos la carpeta a sincronizar: <code class="language-plaintext highlighter-rouge">/home/javier/Nextcloud</code>.</p>
  </li>
</ul>

<p>Y ya habríamos terminado de configurar <em>Nextcloud Client</em>.</p>

<p><img src="https://raw.githubusercontent.com/javierpzh/webjavierpzh/master/assets/img/images/iaw_instalacion_migracion_de_aplicaciones_web_PHP/nextcloudclient.png" /></p>

<p>Si vemos el contenido de la carpeta <code class="language-plaintext highlighter-rouge">/home/javier/Nextcloud</code>:</p>

<pre>
javier@debian:~/Nextcloud$ ls
 Documents             'Nextcloud Manual.pdf'   Photos                          Talk
'Nextcloud intro.mp4'   Nextcloud.png          'Reasons to use Nextcloud.pdf'
</pre>

<p>Vemos que se ha sincronizado correctamente con nuestra nube.</p>

  </div><a class="u-url" href="/blog/instalaci%C3%B3n-y-migraci%C3%B3n-de-aplicaciones-web-PHP" hidden></a>
</article>
<footer class="relative bg-gray-300 pt-8 pb-6">

  <div class="container mx-auto px-4">
    <div class="flex flex-wrap">
      <div class="w-full lg:w-5/12 px-4">
        <h4 class="text-3xl font-semibold">
          ¡Más sobre mí!
        </h4>
        <h5 class="text-lg mt-0 mb-2 text-gray-700">
	        Puedes encontrarme en cualquiera de estas plataformas, ¡agradeceré que te pases!
	      </h5>
        <div class="mt-6">
          <button
            class="bg-white text-blue-600 shadow-lg font-normal h-10 w-10 items-center justify-center align-center rounded-full outline-none focus:outline-none mr-2 p-3"
            type="button"
            onclick="location.href='https://www.linkedin.com/in/javier-p%C3%A9rez-hidalgo/';">
            <i class="flex fab fa-linkedin"></i>
          </button>
          <button
            class="bg-white text-gray-900 shadow-lg font-normal h-10 w-10 items-center justify-center align-center rounded-full outline-none focus:outline-none mr-2 p-3"
            type="button"
            onclick="location.href='https://github.com/javierpzh';">
	          <i class="flex fab fa-github"></i>
          </button>
        </div>
        <div class="text-gray-600 text-sm py-1 mt-4">
	        </a
	          class="text-gray-600 hover:text-gray-900"
          > &nbsp;<a target="_blank" rel="noreferrer"></a>
        </div>
      </div>
      <div class="w-full lg:w-6/12 px-4">
        <div class="flex flex-wrap items-top mb-6 mt-4">
          <div class="w-full lg:w-4/12 md:w-6/12 px-0 ml-auto">
            <span
              class="block uppercase text-gray-600 text-sm font-semibold mb-2">
              Enlaces de ayuda
            </span>
            <ul class="list-unstyled">
              <li>
                <a
                  class="text-gray-700 hover:text-gray-900 font-semibold block pb-2 text-sm"
                  href="/">
                  Inicio
                </a>
              </li>
              <li>
                <a
                  class="text-gray-700 hover:text-gray-900 font-semibold block pb-2 text-sm"
                  href="/about">
                  Sobre mí
                </a>
              </li>
              <li>
                <a
                  class="text-gray-700 hover:text-gray-900 font-semibold block pb-2 text-sm"
                  href="/blog">
                  Blog
                </a>
              </li>
              <li>
                <a
                  class="text-gray-700 hover:text-gray-900 font-semibold block pb-2 text-sm"
                  href="https://www.linkedin.com/in/javier-p%C3%A9rez-hidalgo/">
                  LinkedIn
                </a>
              </li>
              <li>
                <a
                  class="text-gray-700 hover:text-gray-900 font-semibold block pb-2 text-sm"
                  href="https://www.github.com/javierpzh">
                  GitHub
                </a>
              </li>
            </ul>
          </div>
          <!-- <div class="w-full lg:w-4/12 md:w-6/12 mt-4 sm:mt-0 md:px-4">
            <span
              class="block uppercase text-gray-600 text-sm font-semibold mb-2">
              Otros recursos
            </span>
            <ul class="list-unstyled">
              <li>
                <a
                  class="text-gray-700 hover:text-gray-900 font-semibold block pb-2 text-sm"
                  href="/privacy-policy">
                  Privacy Policy
                </a>
              </li>
            </ul>
          </div> -->
        </div>
      </div>
    </div>
    <hr class="my-6 border-gray-400" />
    <div
      class="flex flex-wrap items-center md:justify-between justify-center"
    >
      <div class="w-full px-4 mx-auto text-center">
        <div class="text-sm text-gray-600">
            Designed by <a class="hover:text-indigo-600 font-semibold" href="/" target="_blank" rel="noreferrer">Javier Pérez Hidalgo</a>
            &nbsp;
            •
            &nbsp;
            Copyright © 2023&nbsp;<a class="hover:text-indigo-600 font-semibold" href="" target="_blank" rel="noreferrer"></a>
        </div>
      </div>
    </div>
  </div>
</footer><script async defer src="https://sdk.soopr.co/soopr.js"></script></body>

</html>
