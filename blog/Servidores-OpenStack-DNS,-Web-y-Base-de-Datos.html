<!DOCTYPE html>
<html lang="en" class="h-full"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.3 -->
<title>Servidores Openstack: Dns, Web Y Base De Datos | javierpzh</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Servidores Openstack: Dns, Web Y Base De Datos" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="En este post vamos a realizar la instalación de tres servidores: DNS, Web y Base de Datos. Estos servidores se encontrarán en el escenario de OpenStack montado en artículos anteriores. Si quieres saber más acerca del escenario, puedes visitar los siguientes posts:" />
<meta property="og:description" content="En este post vamos a realizar la instalación de tres servidores: DNS, Web y Base de Datos. Estos servidores se encontrarán en el escenario de OpenStack montado en artículos anteriores. Si quieres saber más acerca del escenario, puedes visitar los siguientes posts:" />
<link rel="canonical" href="https://www.javierpzh.com/blog/Servidores-OpenStack-DNS,-Web-y-Base-de-Datos" />
<meta property="og:url" content="https://www.javierpzh.com/blog/Servidores-OpenStack-DNS,-Web-y-Base-de-Datos" />
<meta property="og:site_name" content="javierpzh" />
<meta property="og:image" content="https://soopr.xyz/images/card?url=https://www.javierpzh.com/blog/Servidores-OpenStack-DNS,-Web-y-Base-de-Datos" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-01-04T00:00:00+01:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="og:image" content="https://soopr.xyz/images/card?url=https://www.javierpzh.com/blog/Servidores-OpenStack-DNS,-Web-y-Base-de-Datos" />
<meta property="twitter:title" content="Servidores Openstack: Dns, Web Y Base De Datos" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"description":"En este post vamos a realizar la instalación de tres servidores: DNS, Web y Base de Datos. Estos servidores se encontrarán en el escenario de OpenStack montado en artículos anteriores. Si quieres saber más acerca del escenario, puedes visitar los siguientes posts:","@type":"BlogPosting","headline":"Servidores Openstack: Dns, Web Y Base De Datos","dateModified":"2021-01-04T00:00:00+01:00","datePublished":"2021-01-04T00:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.javierpzh.com/blog/Servidores-OpenStack-DNS,-Web-y-Base-de-Datos"},"url":"https://www.javierpzh.com/blog/Servidores-OpenStack-DNS,-Web-y-Base-de-Datos","@context":"https://schema.org"}</script>
<script async defer data-soopr-token="" src="https://sdk.soopr.co/soopr.js"  ></script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="https://rsms.me/inter/inter.css">
  <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
  <link rel="stylesheet" href="/assets/css/style.css">
    <link
      rel="stylesheet"
      href="/assets/vendor/@fortawesome/fontawesome-free/css/all.min.css"
    /><link type="application/atom+xml" rel="alternate" href="https://www.javierpzh.com/feed.xml" title="javierpzh" />

<link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="mask-icon" href="/assets/img/favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
</head>
<body class='h-full'><nav class="top-0 absolute z-50 w-full flex flex-wrap items-center justify-between px-2 py-3 navbar-expand-lg bg-gray-800">
  <div class="container px-4 mx-auto flex flex-wrap items-center justify-between">
    <div class="w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start">
      <a
        class="text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-nowrap uppercase text-white"
        href="/">
        javierpzh
      </a>
      <button
        class="cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none"
        type="button"
        onclick="toggleNavbar('example-collapse-navbar')">
        <i class="text-white fas fa-bars"></i>
      </button>
    </div>
    <div
      class="lg:flex flex-grow items-center bg-white lg:bg-transparent lg:shadow-none hidden"
      id="example-collapse-navbar">
      <ul class="flex flex-col lg:flex-row list-none mr-auto">
        <li class="flex items-center">
          <a
            class="lg:text-white lg:hover:text-gray-300 text-gray-800 px-3 py-4 lg:py-2 flex items-center text-xs uppercase font-bold"
            href="/blog">
            <i class="lg:text-gray-300 text-gray-500 far fa-file-alt text-lg leading-lg mr-2"></i>
            Blog
          </a>
          <a
            class="lg:text-white lg:hover:text-gray-300 text-gray-800 px-3 py-4 lg:py-2 flex items-center text-xs uppercase font-bold"
            href="/about">
            <i class="lg:text-gray-300 text-gray-500 fas fa-child text-lg leading-lg mr-2"></i>
            Sobre mí
          </a>
        </li>
      </ul>
      <ul class="flex flex-col lg:flex-row list-none lg:ml-auto">
        <li class="flex items-center">
          <a
            class="lg:text-white lg:hover:text-gray-300 text-gray-800 px-3 py-4 lg:py-2 flex items-center text-xs uppercase font-bold"
            href="https://www.linkedin.com/in/javier-p%C3%A9rez-hidalgo/">
            <i class="lg:text-gray-300 text-gray-500 fab fa-linkedin-in text-lg leading-lg"></i>
            <span class="lg:hidden inline-block ml-2">LinkedIn</span>
          </a>
        </li>
        <li class="flex items-center">
          <a
            class="lg:text-white lg:hover:text-gray-300 text-gray-800 px-3 py-4 lg:py-2 flex items-center text-xs uppercase font-bold"
            href="https://github.com/javierpzh">
            <i class="lg:text-gray-300 text-gray-500 fab fa-github text-lg leading-lg"></i>
            <span class="lg:hidden inline-block ml-2">GitHub</span>
          </a>
        </li>
        <li class="flex items-center">
          <a
            class="lg:text-white lg:hover:text-gray-300 text-gray-800 px-3 py-4 lg:py-2 flex items-center text-xs uppercase font-bold"
            href="mailto:javieperezhidalgo01@gmail.com">
            <i class="lg:text-gray-300 text-gray-500 fas fa-envelope text-lg leading-lg"></i>
            <span class="lg:hidden inline-block ml-2">Correo</span>
            </a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<article class="font-sans relative py-24 md:py-28 bg-white overflow-hidden" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="relative px-4 sm:px-6 lg:px-8">
    <div class="text-lg max-w-prose mx-auto mb-4">
      <h1
        class="mt-2 mb-2 text-3xl text-center-DIS leading-8 font-extrabold tracking-tight-DIS text-gray-800 sm:text-4xl sm:leading-10"
        itemprop="name headline">
        Servidores Openstack: Dns, Web Y Base De Datos</h1>
    </div>
    <p class="max-w-prose mx-auto mb-2 text-lg uppercase text-gray-500"><span class="font-bold tracking-wide"><time class="dt-published text-xs" datetime="2021-01-04T00:00:00+01:00" itemprop="datePublished">
        Jan 4, 2021
      </time></span></p>
    <!-- 
      Please sign up at https://www.soopr.co to personalize share and reaction buttons
    -->
    <div class="max-w-prose text-lg mx-auto mt-4 mb-8 soopr-btn soopr-btn-def" style="min-height: 36px;"></div>
  </header>

  <div class="prose prose-lg px-4 md:px-0 text-gray-700 mx-auto" itemprop="articleBody">
    <p>En este <em>post</em> vamos a realizar la instalación de tres servidores: DNS, Web y Base de Datos. Estos servidores se encontrarán en el escenario de OpenStack montado en artículos anteriores. Si quieres saber más acerca del escenario, puedes visitar los siguientes <em>posts</em>:</p>

<ul>
  <li><a href="https://javierpzh.github.io/creacion-del-escenario-de-trabajo-en-openstack.html">Creación del escenario de trabajo en OpenStack</a></li>
  <li><a href="https://javierpzh.github.io/modificacion-del-escenario-de-trabajo-en-openstack.html">Modificación del escenario de trabajo en OpenStack</a></li>
</ul>

<h2 id="servidor-dns">Servidor DNS</h2>

<p><strong>Vamos a instalar un servidor DNS en <em>Freston</em> que nos permita gestionar la resolución directa e inversa de nuestros nombres. Mi subdominio dentro del dominio principal <code class="language-plaintext highlighter-rouge">gonzalonazareno.org</code>, se llamará <code class="language-plaintext highlighter-rouge">javierpzh.gonzalonazareno.org</code>.</strong></p>

<p>Vamos a instalar el servidor bind9:</p>

<pre>
apt install bind9 -y
</pre>

<p>Una vez instalado, vamos a pasar a definir las vistas que vamos a crear posteriormente. Para ello, nos dirigimos al fichero <code class="language-plaintext highlighter-rouge">/etc/bind/named.conf.local</code> y añadimos los siguientes bloques que definirán cada una de las vistas:</p>

<pre>
view red_externa {
        match-clients {172.22.0.0/15; 192.168.202.2;};

        include "/etc/bind/zones.rfc1918";
        include "/etc/bind/named.conf.default-zones";

        zone "javierpzh.gonzalonazareno.org" {
          type master;
          file "db.externa.javierpzh.gonzalonazareno.org";
        };
};

view red_DMZ {
        match-clients {10.0.2.0/24;};

        include "/etc/bind/zones.rfc1918";
        include "/etc/bind/named.conf.default-zones";

        zone "javierpzh.gonzalonazareno.org" {
          type master;
          file "db.DMZ.javierpzh.gonzalonazareno.org";
        };

        zone "1.0.10.in-addr.arpa" {
          type master;
          file "db.1.0.10";
        };

        zone "2.0.10.in-addr.arpa" {
          type master;
          file "db.2.0.10";
        };
};

view red_interna {
        match-clients {10.0.1.0/24; localhost;};

        include "/etc/bind/zones.rfc1918";
        include "/etc/bind/named.conf.default-zones";

        zone "javierpzh.gonzalonazareno.org" {
          type master;
          file "db.interna.javierpzh.gonzalonazareno.org";
        };

        zone "1.0.10.in-addr.arpa" {
          type master;
          file "db.1.0.10";
        };

        zone "2.0.10.in-addr.arpa" {
          type master;
          file "db.2.0.10";
        };
};
</pre>

<p>Vamos a explicar las líneas que acabamos de añadir.</p>

<p>En primer lugar, vemos que hemos añadido tres vistas distintas, una para cada una de las redes con las que vamos a interaccionar. La primera está destinada a la <strong>red externa</strong>, la segunda a la <strong>red DMZ</strong>, y la tercera a la <strong>red interna</strong>.</p>

<p>Al principio de cada vista, he introducido una línea llamada <strong>match-clients</strong>. Esta línea identifica desde que red será accesible esa vista.</p>

<p>Podemos ver que he escrito una línea que hacer referencia a un archivo llamado <code class="language-plaintext highlighter-rouge">zones.rfc1918</code>, que es un fichero de configuración de las zonas privadas que queremos definir.</p>

<p>Los bloques definen las zonas de las que el servidor tiene autoridad, la <strong>zona de resolución directa</strong> <code class="language-plaintext highlighter-rouge">javierpzh.gonzalonazareno.org</code>, y sus correspondientes <strong>zonas de resolución inversa</strong> <code class="language-plaintext highlighter-rouge">1.0.10.in-addr.arpa</code> y <code class="language-plaintext highlighter-rouge">2.0.10.in-addr.arpa</code>, además vemos como hemos especificado que actúen como <strong>maestro</strong>.</p>

<p>Una vez explicado, como vamos a utilizar distintas vistas, debemos dirigirnos al fichero <code class="language-plaintext highlighter-rouge">/etc/bind/named.conf</code> y comentar (para comentar se utilizan dos caracteres <code class="language-plaintext highlighter-rouge">/</code>) o eliminar la siguiente línea:</p>

<pre>
include "/etc/bind/named.conf.default-zones";
</pre>

<p>Hecho esto, tenemos que dirigirnos al fichero <code class="language-plaintext highlighter-rouge">/etc/bind/named.conf.options</code>, e introducir las siguientes líneas:</p>

<pre>
allow-query { 172.22.0.0/15;10.0.1.0/24;10.0.2.0/24;192.168.202.2; };

allow-recursion { any; };

allow-query-cache { any; };
</pre>

<p>De manera que el contenido total del fichero sería:</p>

<pre>
options {
        directory "/var/cache/bind";

        dnssec-validation auto;

        listen-on-v6 { any; };

        recursion yes;

        allow-query { 172.22.0.0/15;10.0.1.0/24;10.0.2.0/24;192.168.202.2; };

        allow-recursion { any; };

        allow-query-cache { any; };

        listen-on { any; };

        allow-transfer { none; };

};
</pre>

<p>Ahora, vamos a configurar las zonas que definimos en el paso anterior. En mi caso copio el fichero <code class="language-plaintext highlighter-rouge">/etc/bind/db.empty</code> para utilizarlo como plantilla de los nuevos archivos de configuración.</p>

<p>En primer lugar, voy a definir y configurar la zona que utilizaremos en la vista destinada para la <strong>red externa</strong>:</p>

<pre>
root@freston:~# cp /etc/bind/db.empty /var/cache/bind/db.externa.javierpzh.gonzalonazareno.org
</pre>

<p>Hecho esto, empezamos a editar nuestro archivo <code class="language-plaintext highlighter-rouge">db.externa.javierpzh.gonzalonazareno.org</code>:</p>

<pre>
$TTL    86400
@       IN      SOA     dulcinea.javierpzh.gonzalonazareno.org. root.localhost. (
                        20123001        ; Serial
                         604800         ; Refresh
                          86400         ; Retry
                        2419200         ; Expire
                          86400 )       ; Negative Cache TTL
;
@       IN      NS      dulcinea.javierpzh.gonzalonazareno.org.

$ORIGIN javierpzh.gonzalonazareno.org.

dulcinea        IN      A       172.22.200.183
www             IN      CNAME   dulcinea
</pre>

<p>Voy a explicar el bloque añadido.</p>

<p>Vemos que hay un apartado llamado <strong>Serial</strong>, este apartado es muy importante, ya que es el identificador de la zona, que debemos incrementar cada vez que hagamos un cambio. Se recomienda que el valor sea de este formato <strong>YYMMDDNN</strong>, es decir, la fecha de modificación y el número de la modificación. En mi caso he establecido <strong>20123001</strong> pues estoy realizando esta práctica el <em>30 de diciembre de 2020</em> y es la primera modificación que hago.</p>

<p>Los registros de tipo <strong>SOA</strong> representan la autoridad sobre la zona.</p>

<p>El registro de tipo <strong>NS</strong> define el servidor con privilegios sobre la zona.</p>

<p>El registro <strong>$ORIGIN</strong> se usa para que las líneas que se especifiquen debajo de él, sean autocompletadas con el dominio especificado en dicho registro. Esto nos sirve para evitar poner en cada registro que creemos, la zona, es decir, a los próximos registros que creemos, se les añadirá automáticamente la zona <code class="language-plaintext highlighter-rouge">javierpzh.gonzalonazareno.org</code>.</p>

<p>Los registros de tipo <strong>A</strong> especifican la direcciones IP correspondientes al dominio.</p>

<p>Los registros de tipo <strong>CNAME</strong> sirven para apuntar hacia otro de los registros de tipo <strong>A</strong> ya existentes. De manera que es mucho más fácil y cómodo hacer referencia a una dirección a través de un nombre en vez de con la propia dirección en sí.</p>

<p>Explicados estos detalles, vamos a continuar con la siguiente zona que se empleará para la vista de la <strong>red DMZ</strong>. Vuelvo a copiar el fichero <code class="language-plaintext highlighter-rouge">/etc/bind/db.empty</code> para utilizarlo como plantilla:</p>

<pre>
root@freston:~# cp /etc/bind/db.empty /var/cache/bind/db.DMZ.javierpzh.gonzalonazareno.org
</pre>

<p>Hecho esto, empezamos a editar nuestro archivo <code class="language-plaintext highlighter-rouge">db.DMZ.javierpzh.gonzalonazareno.org</code>:</p>

<pre>
$TTL    86400
@       IN      SOA     freston.javierpzh.gonzalonazareno.org. root.localhost. (
                        20123001        ; Serial
                         604800         ; Refresh
                          86400         ; Retry
                        2419200         ; Expire
                          86400 )       ; Negative Cache TTL
;
@       IN      NS      freston.javierpzh.gonzalonazareno.org.

$ORIGIN javierpzh.gonzalonazareno.org.

freston         IN      A       10.0.1.6
dulcinea        IN      A       10.0.2.10
sancho          IN      A       10.0.1.8
quijote         IN      A       10.0.2.6
www             IN      CNAME   quijote
bd              IN      CNAME   sancho
ldap            IN      CNAME   freston
</pre>

<p>Seguimos con la siguiente zona, esta, se empleará para la vista de la <strong>red interna</strong>. Vuelvo a copiar el fichero <code class="language-plaintext highlighter-rouge">/etc/bind/db.empty</code> para utilizarlo como plantilla:</p>

<pre>
root@freston:~# cp /etc/bind/db.empty /var/cache/bind/db.interna.javierpzh.gonzalonazareno.org
</pre>

<p>Hecho esto, empezamos a editar nuestro archivo <code class="language-plaintext highlighter-rouge">db.interna.javierpzh.gonzalonazareno.org</code>:</p>

<pre>
$TTL    86400
@       IN      SOA     freston.javierpzh.gonzalonazareno.org. root.localhost. (
                        20123001        ; Serial
                         604800         ; Refresh
                          86400         ; Retry
                        2419200         ; Expire
                          86400 )       ; Negative Cache TTL
;
@       IN      NS      freston.javierpzh.gonzalonazareno.org.

$ORIGIN javierpzh.gonzalonazareno.org.

freston         IN      A       10.0.1.6
dulcinea        IN      A       10.0.1.11
sancho          IN      A       10.0.1.8
quijote         IN      A       10.0.2.6
www             IN      CNAME   quijote
bd              IN      CNAME   sancho
</pre>

<p>Ya hemos creado y configurado las tres zonas de <strong>resolución directa</strong> que necesitamos, ahora vamos a pasar con las de <strong>resolución inversa</strong>.</p>

<p>Para estas, podemos tomar como plantilla otro archivo, el <code class="language-plaintext highlighter-rouge">/etc/bind/db.127</code>. Lo guardaremos de nuevo en <code class="language-plaintext highlighter-rouge">/var/cache/bind</code> con los nombres <code class="language-plaintext highlighter-rouge">db.1.0.10</code> y <code class="language-plaintext highlighter-rouge">db.2.0.10</code>.</p>

<pre>
root@freston:~# cp /etc/bind/db.127 /var/cache/bind/db.1.0.10

root@freston:~# cp /etc/bind/db.127 /var/cache/bind/db.2.0.10
</pre>

<p>Antes de mostrar como quedarían estos ficheros, hay que decir que por cada registro de tipo <strong>A</strong> que tengamos en nuestro archivo que contiene la zona directa, tenemos que añadir un registro de tipo <strong>PTR</strong>.</p>

<p>En mi caso, el fichero <code class="language-plaintext highlighter-rouge">/var/cache/bind/db.1.0.10</code> tendría este aspecto:</p>

<pre>
$TTL    604800
@       IN      SOA     freston.javierpzh.gonzalonazareno.org. root.localhost. (
                        20123001        ; Serial
                         604800         ; Refresh
                          86400         ; Retry
                        2419200         ; Expire
                         604800 )       ; Negative Cache TTL
;
@       IN      NS      freston.javierpzh.gonzalonazareno.org.

$ORIGIN 1.0.10.in-addr.arpa.

11     IN      PTR     dulcinea
6      IN      PTR     freston
8      IN      PTR     sancho
</pre>

<p>En mi caso, el fichero <code class="language-plaintext highlighter-rouge">/var/cache/bind/db.2.0.10</code> tendría este aspecto:</p>

<pre>
$TTL    604800
@       IN      SOA     freston.javierpzh.gonzalonazareno.org. root.localhost. (
                        20123001        ; Serial
                         604800         ; Refresh
                          86400         ; Retry
                        2419200         ; Expire
                         604800 )       ; Negative Cache TTL
;
@       IN      NS      freston.javierpzh.gonzalonazareno.org.

$ORIGIN 2.0.10.in-addr.arpa.

10    IN      PTR     dulcinea
6     IN      PTR     quijote
</pre>

<p>Hemos terminado de crear las diferentes zonas, y tan solo nos quedaría crear la regla <strong>DNAT</strong> en <strong>Dulcinea</strong> para poder realizar las consultas a nuestro servidor DNS instalado en <strong>Freston</strong>.</p>

<p>Añadimos la siguiente regla:</p>

<pre>
iptables -t nat -A PREROUTING -p udp --dport 53 -i eth0 -j DNAT --to 10.0.1.6:53
</pre>

<p>Esta regla, lo que hace, es redirigir el tráfico que proviene desde la interfaz <strong>eth0</strong> y su destino es el puerto <strong>53</strong>, a la dirección <strong>10.0.1.6:53</strong>, es decir, la IP de <strong>Freston</strong> y el puerto <strong>53</strong> de dicha máquina, donde se encontrará nuestro servidor DNS.</p>

<p><strong>Importante:</strong> es muy recomendable instalar el paquete <code class="language-plaintext highlighter-rouge">iptables-persistent</code>, ya que esto hará que en cada arranque del sistema las reglas que hemos configurado se levanten automáticamente, siempre y cuando las guardemos en el fichero <code class="language-plaintext highlighter-rouge">/etc/iptables/rules.v4</code>. Por tanto vamos a guardar esta regla para que se levente en cada inicio:</p>

<pre>
iptables-save &gt; /etc/iptables/rules.v4
</pre>

<p>Reiniciamos el servidor DNS para que se apliquen los nuevos cambios:</p>

<pre>
systemctl restart bind9
</pre>

<p>Bien, hemos terminado de configurar nuestro servidor DNS, pero debemos configurar nuestros clientes para que hagan uso de este servidor. El fichero que establece e indica que servidores DNS se utilizarán es el <code class="language-plaintext highlighter-rouge">/etc/resolv.conf</code>. El contenido de este archivo se obtiene de manera automática por DHCP en cada arranque del sistema, por lo cuál, nos interesa crear una configuración que evite este comportamiento, de manera que el fichero se vuelva estático.</p>

<p>Aunque pensándolo mejor, en mi caso al menos, creo que me interesa más que en vez de volver completamente estático el fichero, siga obteniendo los servidores DNS proporcionados por DHCP, pero con la diferencia de que en primer lugar, es decir, la primera opción siempre sea mi propio servidor DNS.</p>

<p>Esto me servirá para que en el caso, de que en mi DNS ocurra algún error o no se encuentre disponible en algún momento, pueda seguir utilizando otros servidores.</p>

<p><strong>En las máquinas Debian y Ubuntu (Dulcinea, Sancho y Freston) :</strong></p>

<p>Utilizaremos la herramienta <code class="language-plaintext highlighter-rouge">resolvconf</code>, para instalarla:</p>

<pre>
apt install resolvconf -y
</pre>

<p>Ahora, debemos dirigirnos al fichero <code class="language-plaintext highlighter-rouge">/etc/resolvconf/resolv.conf.d/head</code> que inicialmente posee este aspecto:</p>

<pre>
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
</pre>

<p>Y añadir estas líneas, de manera que el contenido total sería el siguiente:</p>

<pre>
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN

nameserver 10.0.1.6
search javierpzh.gonzalonazareno.org
</pre>

<p>Si ahora reiniciamos las máquinas y miramos el contenido del fichero <code class="language-plaintext highlighter-rouge">/etc/resolv.conf</code>:</p>

<p>En el caso de <em>Dulcinea</em>:</p>

<pre>
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN

nameserver 10.0.1.6
search javierpzh.gonzalonazareno.org
...
</pre>

<p>En el caso de <em>Sancho</em>:</p>

<pre>
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
# 127.0.0.53 is the systemd-resolved stub resolver.
# run "systemd-resolve --status" to see details about the actual nameservers.

nameserver 10.0.1.6
search javierpzh.gonzalonazareno.org
...
</pre>

<p>En el caso de <em>Freston</em>:</p>

<pre>
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN

nameserver 10.0.1.6
search javierpzh.gonzalonazareno.org
...
</pre>

<p>Podemos apreciar como las máquinas además de los servidores obtenidos por DHCP, poseen en primer lugar y por tanto, con prioridad mi DNS, que será al que se le consulte siempre que esté disponible y sea capaz de resolver la petición.</p>

<p><strong>En la máquina CentOS (Quijote) :</strong></p>

<p>No he conseguido encontrar, ni siquiera sé si existe la herramienta que hemos utilizado para las otras máquinas, por lo cuál el proceso será distinto.</p>

<p>He decidido editar el fichero <code class="language-plaintext highlighter-rouge">/etc/sysconfig/network-scripts/ifcfg-eth0</code>, que si recordamos ya configuramos en los primeros <em>posts</em> sobre este escenario, y establecer en él los servidores DNS que deseamos utilizar. De manera que las líneas que hacen referencia a los DNS serían las siguientes:</p>

<pre>
DNS1=10.0.1.6
DNS2=10.0.2.10
DNS3=8.8.8.8
</pre>

<p>Si reiniciamos la máquina y visualizamos el contenido del fichero <code class="language-plaintext highlighter-rouge">/etc/resolv.conf</code>:</p>

<pre>
# Generated by NetworkManager
nameserver 10.0.1.6
...
</pre>

<p>Posee el aspecto que deseamos, pero aún nos falta por añadir la línea:</p>

<pre>
search javierpzh.gonzalonazareno.org
</pre>

<p>(Aún no he conseguido configurarla para que permanezca a pesar de los reinicios, así que de momento la he añadido hasta que lo consiga.)</p>

<p>Hecho esto, ahora nuestros clientes utilizarán el servidor DNS <em>bind9</em> ubicado en <em>Freston</em>.</p>

<p>Como ya poseemos un servidor DNS bien configurado, podemos eliminar las entradas referentes a los distintos equipos en el fichero <code class="language-plaintext highlighter-rouge">/etc/hosts</code> de manera que no nos hará falta hacer uso de la resolución estática.</p>

<p>Voy a mostrar, como por ejemplo, puedo hacer uso del DNS desde <strong>Quijote</strong>:</p>

<pre>
[centos@quijote ~]$ ping dulcinea
PING dulcinea.javierpzh.gonzalonazareno.org (10.0.2.10) 56(84) bytes of data.
64 bytes from dulcinea.2.0.10.in-addr.arpa (10.0.2.10): icmp_seq=1 ttl=64 time=0.735 ms
64 bytes from dulcinea.2.0.10.in-addr.arpa (10.0.2.10): icmp_seq=2 ttl=64 time=0.913 ms
64 bytes from dulcinea.2.0.10.in-addr.arpa (10.0.2.10): icmp_seq=3 ttl=64 time=0.605 ms
^C
--- dulcinea.javierpzh.gonzalonazareno.org ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 5ms
rtt min/avg/max/mdev = 0.605/0.751/0.913/0.126 ms

[centos@quijote ~]$ ping sancho
PING sancho.javierpzh.gonzalonazareno.org (10.0.1.8) 56(84) bytes of data.
64 bytes from sancho.1.0.10.in-addr.arpa (10.0.1.8): icmp_seq=1 ttl=63 time=2.67 ms
64 bytes from sancho.1.0.10.in-addr.arpa (10.0.1.8): icmp_seq=2 ttl=63 time=1.78 ms
64 bytes from sancho.1.0.10.in-addr.arpa (10.0.1.8): icmp_seq=3 ttl=63 time=1.68 ms
^C
--- sancho.javierpzh.gonzalonazareno.org ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 5ms
rtt min/avg/max/mdev = 1.677/2.041/2.666/0.443 ms

[centos@quijote ~]$ ping freston
PING freston.javierpzh.gonzalonazareno.org (10.0.1.6) 56(84) bytes of data.
64 bytes from freston.1.0.10.in-addr.arpa (10.0.1.6): icmp_seq=1 ttl=63 time=1.15 ms
64 bytes from freston.1.0.10.in-addr.arpa (10.0.1.6): icmp_seq=2 ttl=63 time=1.60 ms
64 bytes from freston.1.0.10.in-addr.arpa (10.0.1.6): icmp_seq=3 ttl=63 time=1.73 ms
^C
--- freston.javierpzh.gonzalonazareno.org ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 6ms
rtt min/avg/max/mdev = 1.148/1.492/1.734/0.254 ms

[centos@quijote ~]$ ping www
PING quijote.javierpzh.gonzalonazareno.org (10.0.2.6) 56(84) bytes of data.
64 bytes from quijote.2.0.10.in-addr.arpa (10.0.2.6): icmp_seq=1 ttl=64 time=0.052 ms
64 bytes from quijote.2.0.10.in-addr.arpa (10.0.2.6): icmp_seq=2 ttl=64 time=0.106 ms
64 bytes from quijote.2.0.10.in-addr.arpa (10.0.2.6): icmp_seq=3 ttl=64 time=0.100 ms
^C
--- quijote.javierpzh.gonzalonazareno.org ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 66ms
rtt min/avg/max/mdev = 0.052/0.086/0.106/0.024 ms

[centos@quijote ~]$ ping ldap
PING freston.javierpzh.gonzalonazareno.org (10.0.1.6) 56(84) bytes of data.
64 bytes from freston.1.0.10.in-addr.arpa (10.0.1.6): icmp_seq=1 ttl=63 time=1.23 ms
64 bytes from freston.1.0.10.in-addr.arpa (10.0.1.6): icmp_seq=2 ttl=63 time=1.75 ms
64 bytes from freston.1.0.10.in-addr.arpa (10.0.1.6): icmp_seq=3 ttl=63 time=1.68 ms
^C
--- freston.javierpzh.gonzalonazareno.org ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 5ms
rtt min/avg/max/mdev = 1.226/1.550/1.747/0.230 ms
</pre>

<p>Vemos que nos resuelve todos los nombres, por tanto habríamos terminado el servidor DNS.</p>

<p>(José Domingo, si quieres el próximo día en clase te muestro cualquier prueba de funcionamiento).</p>

<h2 id="servidor-web">Servidor Web</h2>

<p><strong>En <em>Quijote (CentOS)</em> (Servidor que está en la DMZ) vamos a instalar un servidor web <em>Apache</em>. Vamos a configurar el servidor para que sea capaz de ejecutar código PHP (para ello vamos a usar un servidor de aplicaciones <code class="language-plaintext highlighter-rouge">php-fpm</code>).</strong></p>

<p>Antes de instalar el servidor web, vamos a dirigirnos a <strong>Dulcinea</strong> y vamos a crear la regla necesaria para hacer <strong>DNAT</strong>. La regla es la siguiente:</p>

<pre>
iptables -t nat -A PREROUTING -p tcp --dport 80 -i eth0 -j DNAT --to 10.0.2.6:80
</pre>

<p>Esta regla, lo que hace, es redirigir el tráfico que proviene desde la interfaz <strong>eth0</strong> y su destino es el puerto <strong>80</strong>, a la dirección <strong>10.0.2.6:80</strong>, es decir, la IP de <strong>Quijote</strong> y el puerto <strong>80</strong> de dicha máquina, donde se encontrará nuestro servidor web.</p>

<p><strong>Importante:</strong> es muy recomendable instalar el paquete <code class="language-plaintext highlighter-rouge">iptables-persistent</code>, ya que esto hará que en cada arranque del sistema las reglas que hemos configurado se levanten automáticamente, siempre y cuando las guardemos en el fichero <code class="language-plaintext highlighter-rouge">/etc/iptables/rules.v4</code>. Por tanto vamos a guardar esta regla para que se levente en cada inicio:</p>

<pre>
iptables-save &gt; /etc/iptables/rules.v4
</pre>

<p>Una vez tenemos creada la regla <em>DNAT</em> en <em>Dulcinea</em>, procedemos a instalar el servidor web <strong>Apache</strong> en <strong>Quijote</strong>, que lo vamos a instalar con este comando, ya que en <strong>CentOS</strong>, <em>Apache</em> se incluye en el paquete <strong>httpd</strong>:</p>

<pre>
dnf install httpd -y
</pre>

<p>Una vez instalado, debemos abrir los puertos <em>80</em> y <em>443</em>, que utilizará <em>Apache</em>, ya que por defecto, en el <em>firewall</em> de <em>CentOS</em>, vienen cerrados.</p>

<pre>
[root@quijote ~]# firewall-cmd --permanent --add-service=http
success

[root@quijote ~]# firewall-cmd --permanent --add-service=https
success

[root@quijote ~]# firewall-cmd --permanent --add-port=80/tcp
success

[root@quijote ~]# firewall-cmd --permanent --add-port=443/tcp
success

[root@quijote ~]# firewall-cmd --reload
success

[root@quijote ~]# firewall-cmd --list-all
public (active)
  target: default
  icmp-block-inversion: no
  interfaces: eth0
  sources:
  services: dhcpv6-client http https ssh
  ports: 443/tcp 80/tcp
  protocols:
  masquerade: no
  forward-ports:
  source-ports:
  icmp-blocks:
  rich rules:
</pre>

<p>Habilitamos para que este servicio se inicie en cada arranque del sistema.</p>

<pre>
[root@quijote ~]# systemctl enable httpd
Created symlink /etc/systemd/system/multi-user.target.wants/httpd.service → /usr/lib/systemd/system/httpd.service.
</pre>

<p>Hecho esto, si nos dirigimos nuestro navegador e introducimos la dirección <code class="language-plaintext highlighter-rouge">www.javierpzh.gonzalonazareno.org</code>, nos debe aparecer una página como esta:</p>

<p><img src="https://raw.githubusercontent.com/javierpzh/webjavierpzh/master/assets/img/images/sri_Servidores_OpenStack_DNS_Web_y_Base_de_Datos/quijoteapache.png" /></p>

<p>Vemos que accediendo a <code class="language-plaintext highlighter-rouge">www.javierpzh.gonzalonazareno.org</code> nos muestra la página servida por nuestro servidor web, que se encuentra en <em>Quijote</em>, por lo que, tanto la regla <em>DNAT</em> creada en <em>Dulcinea</em>, como el servidor <em>httpd</em>, funcionan correctamente.</p>

<p>En <em>Centos</em>, la instalación de un servidor <em>Apache</em> es distinta respecto a lo que estamos acostumbrados a utilizar, <em>Debian</em>. Podemos apreciar que no poseemos ni la carpeta <code class="language-plaintext highlighter-rouge">sites-availables</code> ni la carpeta de <code class="language-plaintext highlighter-rouge">sites-enabled</code>, por lo que nosotros mismos vamos a proceder a crearlas, para ello nos dirigimos al directorio <code class="language-plaintext highlighter-rouge">/etc/httpd</code> y las creamos:</p>

<pre>
[root@quijote ~]# ls /etc/httpd/
conf  conf.d  conf.modules.d  logs  modules  run  state

[root@quijote ~]# mkdir /etc/httpd/{sites-availables,sites-enabled}

[root@quijote ~]# ls /etc/httpd/
conf  conf.d  conf.modules.d  logs  modules  run  sites-availables  sites-enabled  state
</pre>

<p>Una vez disponemos de las carpetas donde almacenaremos nuestros <em>virtualhost</em>, debemos dirigirnos al fichero <code class="language-plaintext highlighter-rouge">/etc/httpd/conf/httpd.conf</code> e indicar que los <em>virtualhost</em> se almacenan en la carpeta <code class="language-plaintext highlighter-rouge">sites-enabled</code>. Para ello añadimos la siguiente línea en dicho fichero:</p>

<pre>
IncludeOptional sites-enabled/*.conf
</pre>

<p>Hecho esto, ya procederemos a crear nuestro primer <em>virtualhost</em>. En mi caso recibirá el nombre de <code class="language-plaintext highlighter-rouge">javierpzh.gonzalonazareno.conf</code> y poseerá este aspecto:</p>

<pre>
&lt;\VirtualHost *:80\&gt;

    ServerName www.javierpzh.gonzalonazareno.org
    DocumentRoot /var/www/iesgn

    ErrorLog /var/www/iesgn/log/error.log
    CustomLog /var/www/iesgn/log/requests.log combined

&lt;\/VirtualHost\&gt;
</pre>

<p><strong>Atención:</strong> a esta configuración hay que eliminarle los carácteres <code class="language-plaintext highlighter-rouge">\</code>, que he tenido que introducir para escapar los carácteres siguientes, así que en caso de querer copiar la configuración, debemos tener en cuenta esto.</p>

<p>Ahora, vamos a habilitar este nuevo <em>virtualhost</em>, creando un enlace simbólico hacia la ruta <code class="language-plaintext highlighter-rouge">/etc/httpd/sites-enabled</code>.</p>

<pre>
[root@quijote sites-availables]# ln -s /etc/httpd/sites-availables/javierpzh.gonzalonazareno.conf /etc/httpd/sites-enabled/
</pre>

<p>En este punto, tan solo nos quedaría crear un fichero <code class="language-plaintext highlighter-rouge">index.html</code> en la ruta especificada en el apartado <strong>DocumentRoot</strong>, que en mi caso, es <code class="language-plaintext highlighter-rouge">/var/www/iesgn</code>. Mi fichero <code class="language-plaintext highlighter-rouge">index.html</code> quedaría así:</p>

<pre>
&lt;\h1\&gt;Pagina de Javier Perez Hidalgo, alumno del Gonzalo Nazareno&lt;\/h1\&gt;
</pre>

<p><strong>Atención:</strong> a esta configuración hay que eliminarle los carácteres <code class="language-plaintext highlighter-rouge">\</code>, que he tenido que introducir para escapar los carácteres siguientes, así que en caso de querer copiar la configuración, debemos tener en cuenta esto.</p>

<p>También debemos crear dentro del directorio <code class="language-plaintext highlighter-rouge">/var/www/iesgn</code>, una carpeta llamada <code class="language-plaintext highlighter-rouge">log</code>.</p>

<p>Debemos modificar la política de <strong>SELinux</strong>:</p>

<pre>
setsebool -P httpd_unified 1
</pre>

<p>Reiniciamos nuestro servidor web:</p>

<pre>
systemctl restart httpd
</pre>

<p>Y accedemos de nuevo a la dirección <code class="language-plaintext highlighter-rouge">www.javierpzh.gonzalonazareno.org</code>:</p>

<p><img src="https://raw.githubusercontent.com/javierpzh/webjavierpzh/master/assets/img/images/sri_Servidores_OpenStack_DNS_Web_y_Base_de_Datos/quijoteapachevirtualhost.png" /></p>

<p>Vemos como nos muestra el nuevo <em>virtualhost</em>.</p>

<p>Por último, vamos a configurar este servidor para que ejecute código <strong>PHP</strong>. Utilizaremos el servidor de aplicaciones <code class="language-plaintext highlighter-rouge">php-fpm</code>, por tanto, lo instalamos:</p>

<pre>
dnf install php php-fpm -y
</pre>

<p>Una vez instalado, vamos a habilitar su arranque en cada inicio del sistema:</p>

<pre>
[root@quijote iesgn]# systemctl enable php-fpm
Created symlink /etc/systemd/system/multi-user.target.wants/php-fpm.service → /usr/lib/systemd/system/php-fpm.service.
</pre>

<p>Hecho esto, ya habríamos instalado nuestro servidor de aplicaciones <em>PHP</em>, pero vamos a comprobar que funciona de manera correcta. Para esto, vamos a añadir a nuestro <em>virtualhost</em> los siguientes bloques:</p>

<pre>
&lt;\Proxy "unix:/run/php-fpm/www.sock|fcgi://php-fpm"\&gt;
    ProxySet disablereuse=off
&lt;\/Proxy\&gt;

&lt;\FilesMatch \.php$\&gt;
    SetHandler proxy:fcgi://php-fpm
&lt;\/FilesMatch\&gt;
</pre>

<p><strong>Atención:</strong> a esta configuración hay que eliminarle los carácteres <code class="language-plaintext highlighter-rouge">\</code>, que he tenido que introducir para escapar los carácteres siguientes, así que en caso de querer copiar la configuración, debemos tener en cuenta esto.</p>

<p>En la ruta <code class="language-plaintext highlighter-rouge">/var/www/iesgn</code> voy a crear un archivo llamado <code class="language-plaintext highlighter-rouge">info.php</code> que contendrá la siguiente línea: <code class="language-plaintext highlighter-rouge">&lt;?php phpinfo(); ?&gt;</code>.</p>

<p>Si accedemos a la dirección <code class="language-plaintext highlighter-rouge">www.javierpzh.gonzalonazareno.org/info.php</code>:</p>

<p><img src="https://raw.githubusercontent.com/javierpzh/webjavierpzh/master/assets/img/images/sri_Servidores_OpenStack_DNS_Web_y_Base_de_Datos/quijoteapachephpinfo.png" /></p>

<p>Vemos como nuestro servidor ejecuta código <em>PHP</em>, por lo que habríamos terminado.</p>

<h2 id="servidor-de-base-de-datos">Servidor de base de datos</h2>

<p><strong>En <em>Sancho (Ubuntu)</em> vamos a instalar un servidor de base de datos <em>MariaDB</em> <code class="language-plaintext highlighter-rouge">bd.javierpzh.gonzalonazareno.org</code>.</strong></p>

<p>El primer paso sería instalar nuestro gestor de base de datos, <strong>MySQL</strong>, por tanto, lo instalamos:</p>

<pre>
apt install mariadb-server mariadb-client -y
</pre>

<p>Una vez lo hemos instalado, vamos a configurar una serie de opciones con el comando <code class="language-plaintext highlighter-rouge">mysql_secure_installation</code>. Vamos a especificarle una <strong>contraseña de root</strong>, vamos a <strong>eliminar los usuarios anónimos</strong>, vamos a especificar que queremos <strong>desactivar el acceso remoto</strong> a la base de datos, en resumen, vamos a restablecer la base de datos, con nuestras preferencias. Esta es una manera de asegurar el servicio. Aquí muestro el proceso:</p>

<pre>
root@sancho:~# mysql_secure_installation

NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB
      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!

In order to log into MariaDB to secure it, we'll need the current
password for the root user.  If you've just installed MariaDB, and
you haven't set the root password yet, the password will be blank,
so you should just press enter here.

Enter current password for root (enter for none):
OK, successfully used password, moving on...

Setting the root password ensures that nobody can log into the MariaDB
root user without the proper authorisation.

You already have a root password set, so you can safely answer 'n'.

Change the root password? [Y/n] y
New password:
Re-enter new password:
Password updated successfully!
Reloading privilege tables..
 ... Success!


By default, a MariaDB installation has an anonymous user, allowing anyone
to log into MariaDB without having to have a user account created for
them.  This is intended only for testing, and to make the installation
go a bit smoother.  You should remove them before moving into a
production environment.

Remove anonymous users? [Y/n] y
 ... Success!

Normally, root should only be allowed to connect from 'localhost'.  This
ensures that someone cannot guess at the root password from the network.

Disallow root login remotely? [Y/n] y
 ... Success!

By default, MariaDB comes with a database named 'test' that anyone can
access.  This is also intended only for testing, and should be removed
before moving into a production environment.

Remove test database and access to it? [Y/n] y
 - Dropping test database...
 ... Success!
 - Removing privileges on test database...
 ... Success!

Reloading the privilege tables will ensure that all changes made so far
will take effect immediately.

Reload privilege tables now? [Y/n] y
 ... Success!

Cleaning up...

All done!  If you've completed all of the above steps, your MariaDB
installation should now be secure.

Thanks for using MariaDB!
</pre>

<p>Es el turno de crear un usuario propio, asignarle privilegios y especificarle que sea accesible desde <em>Quijote</em>, es decir, desde <strong>10.0.2.6</strong>, ya que éste tiene la IP estática. Para hacer esto debemos conectarnos como <em>root</em>:</p>

<pre>
root@sancho:~# mysql -u root -p
Enter password:
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 39
Server version: 10.3.25-MariaDB-0ubuntu0.20.04.1 Ubuntu 20.04

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]&gt; CREATE USER 'javierquijote'@'10.0.2.6' IDENTIFIED BY 'contraseña';
Query OK, 0 rows affected (0.050 sec)

MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON *.* TO 'javierquijote'@'10.0.2.6';
Query OK, 0 rows affected (0.152 sec)

MariaDB [(none)]&gt; exit
Bye
</pre>

<p>Una vez tenemos el usuario al que accederemos remotamente, nos quedaría configurar el acceso remoto a nuestro servidor <em>MySQL</em>, para ello, debemos modificar el fichero de configuración <code class="language-plaintext highlighter-rouge">/etc/mysql/mariadb.conf.d/50-server.cnf</code> y buscar la línea <code class="language-plaintext highlighter-rouge">bind-address = 127.0.0.1</code> y sustituirla por la siguiente:</p>

<pre>
bind-address = 0.0.0.0
</pre>

<p>Esto hará que el servidor escuche las peticiones que provienen de todas las interfaces, a diferencia del punto anterior, que estaba configurado para que solo escuchara en <em>localhost</em>.</p>

<p>Hecho esto podemos dirigirnos al <strong>cliente</strong>, es decir, vamos a comprobar el acceso remoto desde <em>Quijote</em>. Para ello necesitamos instalar <em>MariaDB</em>:</p>

<pre>
dnf install mariadb -y
</pre>

<p>Ahora probamos a acceder:</p>

<pre>
mysql -h sancho -u javierquijote -p
</pre>

<p>El parámetro <strong>-h</strong> indica la dirección del servidor (como nuestro DNS resuelve el nombre de <em>Sancho</em> no hace falta indicar su dirección), y los parámetros <strong>-u</strong> y <strong>-p</strong>, como ya sabemos, indican el usuario y la autenticación mediante contraseña.</p>

<p>Obtenemos este resultado:</p>

<pre>
[root@quijote ~]# mysql -h sancho -u javierquijote -p
Enter password:
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 66
Server version: 10.3.25-MariaDB-0ubuntu0.20.04.1 Ubuntu 20.04

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]&gt;
</pre>

<p>Hemos accedido correctamente por lo que habríamos finalizado este <em>post</em>.</p>

  </div><a class="u-url" href="/blog/Servidores-OpenStack-DNS,-Web-y-Base-de-Datos" hidden></a>
</article>
<footer class="relative bg-gray-300 pt-8 pb-6">

  <div class="container mx-auto px-4">
    <div class="flex flex-wrap">
      <div class="w-full lg:w-5/12 px-4">
        <h4 class="text-3xl font-semibold">
          ¡Más sobre mí!
        </h4>
        <h5 class="text-lg mt-0 mb-2 text-gray-700">
	        Puedes encontrarme en cualquiera de estas plataformas, ¡agradeceré que te pases!
	      </h5>
        <div class="mt-6">
          <button
            class="bg-white text-blue-600 shadow-lg font-normal h-10 w-10 items-center justify-center align-center rounded-full outline-none focus:outline-none mr-2 p-3"
            type="button"
            onclick="location.href='https://www.linkedin.com/in/javier-p%C3%A9rez-hidalgo/';">
            <i class="flex fab fa-linkedin"></i>
          </button>
          <button
            class="bg-white text-gray-900 shadow-lg font-normal h-10 w-10 items-center justify-center align-center rounded-full outline-none focus:outline-none mr-2 p-3"
            type="button"
            onclick="location.href='https://github.com/javierpzh';">
	          <i class="flex fab fa-github"></i>
          </button>
        </div>
        <div class="text-gray-600 text-sm py-1 mt-4">
	        </a
	          class="text-gray-600 hover:text-gray-900"
          > &nbsp;<a target="_blank" rel="noreferrer"></a>
        </div>
      </div>
      <div class="w-full lg:w-6/12 px-4">
        <div class="flex flex-wrap items-top mb-6 mt-4">
          <div class="w-full lg:w-4/12 md:w-6/12 px-0 ml-auto">
            <span
              class="block uppercase text-gray-600 text-sm font-semibold mb-2">
              Enlaces de ayuda
            </span>
            <ul class="list-unstyled">
              <li>
                <a
                  class="text-gray-700 hover:text-gray-900 font-semibold block pb-2 text-sm"
                  href="/">
                  Inicio
                </a>
              </li>
              <li>
                <a
                  class="text-gray-700 hover:text-gray-900 font-semibold block pb-2 text-sm"
                  href="/about">
                  Sobre mí
                </a>
              </li>
              <li>
                <a
                  class="text-gray-700 hover:text-gray-900 font-semibold block pb-2 text-sm"
                  href="/blog">
                  Blog
                </a>
              </li>
              <li>
                <a
                  class="text-gray-700 hover:text-gray-900 font-semibold block pb-2 text-sm"
                  href="https://www.linkedin.com/in/javier-p%C3%A9rez-hidalgo/">
                  LinkedIn
                </a>
              </li>
              <li>
                <a
                  class="text-gray-700 hover:text-gray-900 font-semibold block pb-2 text-sm"
                  href="https://www.github.com/javierpzh">
                  GitHub
                </a>
              </li>
            </ul>
          </div>
          <!-- <div class="w-full lg:w-4/12 md:w-6/12 mt-4 sm:mt-0 md:px-4">
            <span
              class="block uppercase text-gray-600 text-sm font-semibold mb-2">
              Otros recursos
            </span>
            <ul class="list-unstyled">
              <li>
                <a
                  class="text-gray-700 hover:text-gray-900 font-semibold block pb-2 text-sm"
                  href="/privacy-policy">
                  Privacy Policy
                </a>
              </li>
            </ul>
          </div> -->
        </div>
      </div>
    </div>
    <hr class="my-6 border-gray-400" />
    <div
      class="flex flex-wrap items-center md:justify-between justify-center"
    >
      <div class="w-full px-4 mx-auto text-center">
        <div class="text-sm text-gray-600">
            Designed by <a class="hover:text-indigo-600 font-semibold" href="" target="_blank" rel="noreferrer">Javier Pérez Hidalgo</a>
            &nbsp;
            •
            &nbsp;
            Copyright © 2022&nbsp;<a class="hover:text-indigo-600 font-semibold" href="" target="_blank" rel="noreferrer"></a>
        </div>
      </div>
    </div>
  </div>
</footer><script async defer src="https://sdk.soopr.co/soopr.js"></script></body>

</html>
